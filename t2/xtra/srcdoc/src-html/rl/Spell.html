<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="GNU source-highlight 1.4
by Lorenzo Bettini, bettini@gnu.org
http://w3.newnet.it/bettini
http://www.gnu.org/software/src-highlite">
<title>.\rl\Spell.java</title>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<pre>
<tt>
001: <b><font color=#009900>//</font></b><a name='line.1'></a>
002: <b><font color=#009900>// Implementation of all Spells and Special effects in Tyrant</font></b><a name='line.2'></a>
003: <b><font color=#009900>//</font></b><a name='line.3'></a>
004: <b><font color=#009900>//</font></b><a name='line.4'></a>
005: <a name='line.5'></a>
006: <b><font color=#0000FF>package</font></b> rl<font color=#FF0000>;</font><a name='line.6'></a>
007: <a name='line.7'></a>
008: <b><font color=#009900>// Root class for all spells and special abilities</font></b><a name='line.8'></a>
009: <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>class</font></b> Spell <b><font color=#0000FF>extends</font></b> Art <font color=#000000>{</font><a name='line.9'></a>
010:   <a name='line.10'></a>
011:   <b><font color=#009900>// Target flags</font></b><a name='line.11'></a>
012:   <b><font color=#009900>// These indicate the target type of the specified spell</font></b><a name='line.12'></a>
013:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TARGET_NONE<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font><a name='line.13'></a>
014:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TARGET_SELF<font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.14'></a>
015:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TARGET_LOCATION<font color=#FF0000>=</font><font color=#9A1900>2</font><font color=#FF0000>;</font><a name='line.15'></a>
016:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TARGET_DIRECTION<font color=#FF0000>=</font><font color=#9A1900>3</font><font color=#FF0000>;</font><a name='line.16'></a>
017:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TARGET_ITEM<font color=#FF0000>=</font><font color=#9A1900>4</font><font color=#FF0000>;</font><a name='line.17'></a>
018:   <a name='line.18'></a>
019:   <b><font color=#009900>// these tags notify the AI of the type of spell</font></b><a name='line.19'></a>
020:   <b><font color=#009900>// AI won't try to use any SPELL_USELESS</font></b><a name='line.20'></a>
021:   <b><font color=#009900>// Should try SPELL_DEFENCE if wounded</font></b><a name='line.21'></a>
022:   <b><font color=#009900>// Will shoot random SPELL_OFFENCE at enemy</font></b><a name='line.22'></a>
023:   <b><font color=#009900>// Won't generally use any SPELL_ENCHANT</font></b><a name='line.23'></a>
024:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SPELL_USELESS<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font><a name='line.24'></a>
025:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SPELL_OFFENCE<font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.25'></a>
026:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SPELL_DEFENCE<font color=#FF0000>=</font><font color=#9A1900>2</font><font color=#FF0000>;</font><a name='line.26'></a>
027:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SPELL_TACTICAL<font color=#FF0000>=</font><font color=#9A1900>3</font><font color=#FF0000>;</font><a name='line.27'></a>
028:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SPELL_ENCHANT<font color=#FF0000>=</font><font color=#9A1900>4</font><font color=#FF0000>;</font><a name='line.28'></a>
029:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SPELL_SUMMON<font color=#FF0000>=</font><font color=#9A1900>5</font><font color=#FF0000>;</font><a name='line.29'></a>
030:   <a name='line.30'></a>
031:   <b><font color=#009900>// The magical order to which the spell belongs</font></b><a name='line.31'></a>
032:   <b><font color=#009900>// This primarily affects who can learn the spell</font></b><a name='line.32'></a>
033:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_NONE<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font><a name='line.33'></a>
034:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_TRUE<font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.34'></a>
035:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_BATTLE<font color=#FF0000>=</font><font color=#9A1900>2</font><font color=#FF0000>;</font><a name='line.35'></a>
036:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_GOOD<font color=#FF0000>=</font><font color=#9A1900>3</font><font color=#FF0000>;</font><a name='line.36'></a>
037:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_NEUTRAL<font color=#FF0000>=</font><font color=#9A1900>4</font><font color=#FF0000>;</font><a name='line.37'></a>
038:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_EVIL<font color=#FF0000>=</font><font color=#9A1900>5</font><font color=#FF0000>;</font><a name='line.38'></a>
039:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_GOBLIN<font color=#FF0000>=</font><font color=#9A1900>6</font><font color=#FF0000>;</font><a name='line.39'></a>
040:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_HEALING<font color=#FF0000>=</font><font color=#9A1900>7</font><font color=#FF0000>;</font><a name='line.40'></a>
041:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_ALCHEMY<font color=#FF0000>=</font><font color=#9A1900>8</font><font color=#FF0000>;</font><a name='line.41'></a>
042:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_TRICKERY<font color=#FF0000>=</font><font color=#9A1900>9</font><font color=#FF0000>;</font><a name='line.42'></a>
043:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_RUNECASTING<font color=#FF0000>=</font><font color=#9A1900>10</font><font color=#FF0000>;</font><a name='line.43'></a>
044:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_ANCIENT<font color=#FF0000>=</font><font color=#9A1900>11</font><font color=#FF0000>;</font>  <b><font color=#009900>// inaccessible to heroes!</font></b><a name='line.44'></a>
045:     <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ORDER_BLACKMAGIC<font color=#FF0000>=</font><font color=#9A1900>12</font><font color=#FF0000>;</font><a name='line.45'></a>
046:   <a name='line.46'></a>
047:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font> orderskills<font color=#FF0000>=</font><font color=#000000>{</font><a name='line.47'></a>
048:             <font color=#9A1900>0</font><font color=#FF0000>,</font><a name='line.48'></a>
049:             RPG<font color=#FF0000>.</font>ST_TRUEMAGIC<font color=#FF0000>,</font><a name='line.49'></a>
050:             RPG<font color=#FF0000>.</font>ST_BATTLEMAGIC<font color=#FF0000>,</font><a name='line.50'></a>
051:             RPG<font color=#FF0000>.</font>ST_HOLYMAGIC<font color=#FF0000>,</font><a name='line.51'></a>
052:             RPG<font color=#FF0000>.</font>ST_HOLYMAGIC<font color=#FF0000>,</font><a name='line.52'></a>
053:             RPG<font color=#FF0000>.</font>ST_HOLYMAGIC<font color=#FF0000>,</font><a name='line.53'></a>
054:             RPG<font color=#FF0000>.</font>ST_GOBLINMAGIC<font color=#FF0000>,</font><a name='line.54'></a>
055:             RPG<font color=#FF0000>.</font>ST_ALCHEMY<font color=#FF0000>,</font><a name='line.55'></a>
056:             <font color=#9A1900>0</font><font color=#FF0000>,</font><a name='line.56'></a>
057:             RPG<font color=#FF0000>.</font>ST_RUNELORE<font color=#FF0000>,</font><a name='line.57'></a>
058:             RPG<font color=#FF0000>.</font>ST_ANCIENTMAGIC<font color=#FF0000>,</font><a name='line.58'></a>
059:             RPG<font color=#FF0000>.</font>ST_BLACKMAGIC<a name='line.59'></a>
060:               <font color=#000000>}</font><font color=#FF0000>;</font><a name='line.60'></a>
061:   <a name='line.61'></a>
062:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> MISSILE<font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.62'></a>
063:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> FORCEBOLT<font color=#FF0000>=</font><font color=#9A1900>2</font><font color=#FF0000>;</font><a name='line.63'></a>
064:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> POISONBOLT<font color=#FF0000>=</font><font color=#9A1900>3</font><font color=#FF0000>;</font><a name='line.64'></a>
065:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ACIDBOLT<font color=#FF0000>=</font><font color=#9A1900>4</font><font color=#FF0000>;</font><a name='line.65'></a>
066:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ICEBOLT<font color=#FF0000>=</font><font color=#9A1900>5</font><font color=#FF0000>;</font><a name='line.66'></a>
067:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> FIREDART<font color=#FF0000>=</font><font color=#9A1900>6</font><font color=#FF0000>;</font><a name='line.67'></a>
068:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> THUNDERBOLT<font color=#FF0000>=</font><font color=#9A1900>7</font><font color=#FF0000>;</font><a name='line.68'></a>
069:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> DEATHRAY<font color=#FF0000>=</font><font color=#9A1900>8</font><font color=#FF0000>;</font><a name='line.69'></a>
070:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> VAPOURIZER<font color=#FF0000>=</font><font color=#9A1900>9</font><font color=#FF0000>;</font><a name='line.70'></a>
071:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SPARK<font color=#FF0000>=</font><font color=#9A1900>10</font><font color=#FF0000>;</font><a name='line.71'></a>
072:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> FLAME<font color=#FF0000>=</font><font color=#9A1900>11</font><font color=#FF0000>;</font><a name='line.72'></a>
073:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> BLAST<font color=#FF0000>=</font><font color=#9A1900>12</font><font color=#FF0000>;</font><a name='line.73'></a>
074:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> BLAZE<font color=#FF0000>=</font><font color=#9A1900>13</font><font color=#FF0000>;</font><a name='line.74'></a>
075:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> FIREBALL<font color=#FF0000>=</font><font color=#9A1900>14</font><font color=#FF0000>;</font><a name='line.75'></a>
076:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> FIREPATH<font color=#FF0000>=</font><font color=#9A1900>15</font><font color=#FF0000>;</font><a name='line.76'></a>
077:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> WEB<font color=#FF0000>=</font><font color=#9A1900>16</font><font color=#FF0000>;</font><a name='line.77'></a>
078:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> POISONCLOUD<font color=#FF0000>=</font><font color=#9A1900>17</font><font color=#FF0000>;</font><a name='line.78'></a>
079:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> DEVASTATE<font color=#FF0000>=</font><font color=#9A1900>18</font><font color=#FF0000>;</font><a name='line.79'></a>
080:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> POISON<font color=#FF0000>=</font><font color=#9A1900>19</font><font color=#FF0000>;</font><a name='line.80'></a>
081:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> LIGHTHEAL<font color=#FF0000>=</font><font color=#9A1900>20</font><font color=#FF0000>;</font><a name='line.81'></a>
082:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> HEAL<font color=#FF0000>=</font><font color=#9A1900>21</font><font color=#FF0000>;</font><a name='line.82'></a>
083:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> STRONGHEAL<font color=#FF0000>=</font><font color=#9A1900>22</font><font color=#FF0000>;</font><a name='line.83'></a>
084:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> POWERHEAL<font color=#FF0000>=</font><font color=#9A1900>23</font><font color=#FF0000>;</font><a name='line.84'></a>
085:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TOTALHEALING<font color=#FF0000>=</font><font color=#9A1900>24</font><font color=#FF0000>;</font><a name='line.85'></a>
086:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> CUREPOISON<font color=#FF0000>=</font><font color=#9A1900>25</font><font color=#FF0000>;</font><a name='line.86'></a>
087:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> HASTE<font color=#FF0000>=</font><font color=#9A1900>26</font><font color=#FF0000>;</font><a name='line.87'></a>
088:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SLOW<font color=#FF0000>=</font><font color=#9A1900>27</font><font color=#FF0000>;</font><a name='line.88'></a>
089:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SUICIDE<font color=#FF0000>=</font><font color=#9A1900>28</font><font color=#FF0000>;</font><a name='line.89'></a>
090:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> IDENTIFY<font color=#FF0000>=</font><font color=#9A1900>29</font><font color=#FF0000>;</font><a name='line.90'></a>
091:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> REMOVECURSE<font color=#FF0000>=</font><font color=#9A1900>30</font><font color=#FF0000>;</font><a name='line.91'></a>
092:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> BLESS<font color=#FF0000>=</font><font color=#9A1900>31</font><font color=#FF0000>;</font><a name='line.92'></a>
093:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TELEPORT<font color=#FF0000>=</font><font color=#9A1900>32</font><font color=#FF0000>;</font><a name='line.93'></a>
094:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TELEPORTOTHER<font color=#FF0000>=</font><font color=#9A1900>33</font><font color=#FF0000>;</font><a name='line.94'></a>
095:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TUNNEL<font color=#FF0000>=</font><font color=#9A1900>34</font><font color=#FF0000>;</font><a name='line.95'></a>
096:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> FLAMECLOUD<font color=#FF0000>=</font><font color=#9A1900>35</font><font color=#FF0000>;</font><a name='line.96'></a>
097:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ICEBLAST<font color=#FF0000>=</font><font color=#9A1900>36</font><font color=#FF0000>;</font><a name='line.97'></a>
098:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ACIDBLAST<font color=#FF0000>=</font><font color=#9A1900>37</font><font color=#FF0000>;</font><a name='line.98'></a>
099:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> RECHARGE<font color=#FF0000>=</font><font color=#9A1900>38</font><font color=#FF0000>;</font><a name='line.99'></a>
100:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> SUMMON<font color=#FF0000>=</font><font color=#9A1900>39</font><font color=#FF0000>;</font><a name='line.100'></a>
101:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> BROOMSTICK<font color=#FF0000>=</font><font color=#9A1900>40</font><font color=#FF0000>;</font><a name='line.101'></a>
102:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> INFESTATION<font color=#FF0000>=</font><font color=#9A1900>41</font><font color=#FF0000>;</font><a name='line.102'></a>
103:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ARMOUR<font color=#FF0000>=</font><font color=#9A1900>42</font><font color=#FF0000>;</font><a name='line.103'></a>
104:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> RUNETRAP<font color=#FF0000>=</font><font color=#9A1900>43</font><font color=#FF0000>;</font><a name='line.104'></a>
105:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> DRAIN<font color=#FF0000>=</font><font color=#9A1900>44</font><font color=#FF0000>;</font><a name='line.105'></a>
106:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> REPAIR<font color=#FF0000>=</font><font color=#9A1900>45</font><font color=#FF0000>;</font><a name='line.106'></a>
107:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> ENCHANT<font color=#FF0000>=</font><font color=#9A1900>46</font><font color=#FF0000>;</font><a name='line.107'></a>
108:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> BECOMEETHEREAL<font color=#FF0000>=</font><font color=#9A1900>47</font><font color=#FF0000>;</font><a name='line.108'></a>
109:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> LAYRUNE<font color=#FF0000>=</font><font color=#9A1900>48</font><font color=#FF0000>;</font><a name='line.109'></a>
110:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> CONFUSE<font color=#FF0000>=</font><font color=#9A1900>49</font><font color=#FF0000>;</font><a name='line.110'></a>
111:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font> TRUEVIEW<font color=#FF0000>=</font><font color=#9A1900>50</font><font color=#FF0000>;</font><a name='line.111'></a>
112: <a name='line.112'></a>
113:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> String<font color=#FF0000>[</font><font color=#FF0000>]</font> names         <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#808080>"Magic Spell"</font><font color=#FF0000>,</font> <font color=#808080>"Magic Missile"</font><font color=#FF0000>,</font> <font color=#808080>"Force Bolt"</font><font color=#FF0000>,</font>    <font color=#808080>"Poison Bolt"</font><font color=#FF0000>,</font>   <font color=#808080>"Acid Bolt"</font><font color=#FF0000>,</font>     <font color=#808080>"Ice Bolt"</font><font color=#FF0000>,</font>      <font color=#808080>"Firedart"</font><font color=#FF0000>,</font>      <font color=#808080>"Thunderbolt"</font><font color=#FF0000>,</font>   <font color=#808080>"Death Ray"</font><font color=#FF0000>,</font>     <font color=#808080>"Vapourizer"</font><font color=#FF0000>,</font>     <font color=#808080>"Spark"</font><font color=#FF0000>,</font>          <font color=#808080>"Flame"</font><font color=#FF0000>,</font>          <font color=#808080>"Blast"</font><font color=#FF0000>,</font>          <font color=#808080>"Blaze"</font><font color=#FF0000>,</font>          <font color=#808080>"Fireball"</font><font color=#FF0000>,</font>          <font color=#808080>"Firepath"</font><font color=#FF0000>,</font>          <font color=#808080>"Web"</font><font color=#FF0000>,</font>            <font color=#808080>"Poison Cloud"</font><font color=#FF0000>,</font>       <font color=#808080>"Devastate"</font><font color=#FF0000>,</font>         <font color=#808080>"Poison"</font><font color=#FF0000>,</font>           <font color=#808080>"Light Heal"</font><font color=#FF0000>,</font>          <font color=#808080>"Heal"</font><font color=#FF0000>,</font>           <font color=#808080>"Strong Heal"</font><font color=#FF0000>,</font>    <font color=#808080>"Power Heal"</font><font color=#FF0000>,</font>     <font color=#808080>"Super Heal"</font><font color=#FF0000>,</font>        <font color=#808080>"Cure Poison"</font><font color=#FF0000>,</font>      <font color=#808080>"Haste"</font><font color=#FF0000>,</font>          <font color=#808080>"Slow"</font><font color=#FF0000>,</font>           <font color=#808080>"Suicide"</font><font color=#FF0000>,</font>        <font color=#808080>"Identify"</font><font color=#FF0000>,</font>       <font color=#808080>"Remove Curse"</font><font color=#FF0000>,</font>   <font color=#808080>"Bless"</font><font color=#FF0000>,</font>          <font color=#808080>"Teleport"</font><font color=#FF0000>,</font>       <font color=#808080>"Teleport Other"</font><font color=#FF0000>,</font>   <font color=#808080>"Tunnel"</font><font color=#FF0000>,</font>            <font color=#808080>"Flame Cloud"</font><font color=#FF0000>,</font>    <font color=#808080>"Ice Blast"</font><font color=#FF0000>,</font>      <font color=#808080>"Acid Blast"</font><font color=#FF0000>,</font>     <font color=#808080>"Recharge"</font><font color=#FF0000>,</font>       <font color=#808080>"Summon"</font><font color=#FF0000>,</font>         <font color=#808080>"Broomstick"</font><font color=#FF0000>,</font>     <font color=#808080>"Infestation"</font><font color=#FF0000>,</font>    <font color=#808080>"Armour"</font><font color=#FF0000>,</font>         <font color=#808080>"Rune of Fire"</font><font color=#FF0000>,</font>    <font color=#808080>"Drain"</font><font color=#FF0000>,</font>          <font color=#808080>"Repair"</font><font color=#FF0000>,</font>          <font color=#808080>"Enchant"</font><font color=#FF0000>,</font>         <font color=#808080>"Become Ethereal"</font><font color=#FF0000>,</font> <font color=#808080>"Lay Rune"</font><font color=#FF0000>,</font>       <font color=#808080>"Confuse"</font><font color=#FF0000>,</font>        <font color=#808080>"Trueview"</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.113'></a>
114:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    levels        <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             <font color=#9A1900>1</font><font color=#FF0000>,</font>               <font color=#9A1900>1</font><font color=#FF0000>,</font>               <font color=#9A1900>2</font><font color=#FF0000>,</font>               <font color=#9A1900>4</font><font color=#FF0000>,</font>               <font color=#9A1900>4</font><font color=#FF0000>,</font>               <font color=#9A1900>3</font><font color=#FF0000>,</font>               <font color=#9A1900>7</font><font color=#FF0000>,</font>               <font color=#9A1900>10</font><font color=#FF0000>,</font>              <font color=#9A1900>13</font><font color=#FF0000>,</font>               <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>5</font><font color=#FF0000>,</font>                <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>4</font><font color=#FF0000>,</font>                   <font color=#9A1900>9</font><font color=#FF0000>,</font>                   <font color=#9A1900>4</font><font color=#FF0000>,</font>                <font color=#9A1900>6</font><font color=#FF0000>,</font>                    <font color=#9A1900>15</font><font color=#FF0000>,</font>                  <font color=#9A1900>3</font><font color=#FF0000>,</font>                  <font color=#9A1900>1</font><font color=#FF0000>,</font>                     <font color=#9A1900>3</font><font color=#FF0000>,</font>                <font color=#9A1900>5</font><font color=#FF0000>,</font>                <font color=#9A1900>7</font><font color=#FF0000>,</font>                <font color=#9A1900>10</font><font color=#FF0000>,</font>                  <font color=#9A1900>5</font><font color=#FF0000>,</font>                  <font color=#9A1900>3</font><font color=#FF0000>,</font>                <font color=#9A1900>4</font><font color=#FF0000>,</font>                <font color=#9A1900>13</font><font color=#FF0000>,</font>               <font color=#9A1900>6</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>6</font><font color=#FF0000>,</font>                <font color=#9A1900>7</font><font color=#FF0000>,</font>                  <font color=#9A1900>2</font><font color=#FF0000>,</font>                   <font color=#9A1900>4</font><font color=#FF0000>,</font>                <font color=#9A1900>5</font><font color=#FF0000>,</font>                <font color=#9A1900>7</font><font color=#FF0000>,</font>                <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>5</font><font color=#FF0000>,</font>                <font color=#9A1900>3</font><font color=#FF0000>,</font>                <font color=#9A1900>5</font><font color=#FF0000>,</font>                <font color=#9A1900>4</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                 <font color=#9A1900>3</font><font color=#FF0000>,</font>                <font color=#9A1900>5</font><font color=#FF0000>,</font>                 <font color=#9A1900>10</font><font color=#FF0000>,</font>                <font color=#9A1900>18</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>10</font><font color=#FF0000>,</font>               <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.114'></a>
115:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    costs         <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             <font color=#9A1900>2</font><font color=#FF0000>,</font>               <font color=#9A1900>2</font><font color=#FF0000>,</font>               <font color=#9A1900>4</font><font color=#FF0000>,</font>               <font color=#9A1900>6</font><font color=#FF0000>,</font>               <font color=#9A1900>6</font><font color=#FF0000>,</font>               <font color=#9A1900>5</font><font color=#FF0000>,</font>               <font color=#9A1900>20</font><font color=#FF0000>,</font>              <font color=#9A1900>50</font><font color=#FF0000>,</font>              <font color=#9A1900>100</font><font color=#FF0000>,</font>              <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>20</font><font color=#FF0000>,</font>               <font color=#9A1900>25</font><font color=#FF0000>,</font>               <font color=#9A1900>6</font><font color=#FF0000>,</font>                   <font color=#9A1900>30</font><font color=#FF0000>,</font>                  <font color=#9A1900>5</font><font color=#FF0000>,</font>                <font color=#9A1900>7</font><font color=#FF0000>,</font>                    <font color=#9A1900>100</font><font color=#FF0000>,</font>                 <font color=#9A1900>2</font><font color=#FF0000>,</font>                  <font color=#9A1900>2</font><font color=#FF0000>,</font>                     <font color=#9A1900>6</font><font color=#FF0000>,</font>                <font color=#9A1900>12</font><font color=#FF0000>,</font>               <font color=#9A1900>20</font><font color=#FF0000>,</font>               <font color=#9A1900>40</font><font color=#FF0000>,</font>                  <font color=#9A1900>12</font><font color=#FF0000>,</font>                 <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>3</font><font color=#FF0000>,</font>                <font color=#9A1900>100</font><font color=#FF0000>,</font>              <font color=#9A1900>40</font><font color=#FF0000>,</font>               <font color=#9A1900>100</font><font color=#FF0000>,</font>              <font color=#9A1900>50</font><font color=#FF0000>,</font>               <font color=#9A1900>60</font><font color=#FF0000>,</font>               <font color=#9A1900>80</font><font color=#FF0000>,</font>                 <font color=#9A1900>1</font><font color=#FF0000>,</font>                   <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>12</font><font color=#FF0000>,</font>               <font color=#9A1900>10</font><font color=#FF0000>,</font>               <font color=#9A1900>30</font><font color=#FF0000>,</font>               <font color=#9A1900>20</font><font color=#FF0000>,</font>               <font color=#9A1900>6</font><font color=#FF0000>,</font>                <font color=#9A1900>5</font><font color=#FF0000>,</font>                <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                 <font color=#9A1900>3</font><font color=#FF0000>,</font>                <font color=#9A1900>20</font><font color=#FF0000>,</font>                <font color=#9A1900>50</font><font color=#FF0000>,</font>                <font color=#9A1900>30</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>10</font><font color=#FF0000>,</font>               <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.115'></a>
116: <a name='line.116'></a>
117:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    rarity        <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             <font color=#9A1900>1</font><font color=#FF0000>,</font>               <font color=#9A1900>1</font><font color=#FF0000>,</font>               <font color=#9A1900>2</font><font color=#FF0000>,</font>               <font color=#9A1900>2</font><font color=#FF0000>,</font>               <font color=#9A1900>3</font><font color=#FF0000>,</font>               <font color=#9A1900>1</font><font color=#FF0000>,</font>               <font color=#9A1900>2</font><font color=#FF0000>,</font>               <font color=#9A1900>10</font><font color=#FF0000>,</font>              <font color=#9A1900>10</font><font color=#FF0000>,</font>               <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>3</font><font color=#FF0000>,</font>                <font color=#9A1900>5</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                   <font color=#9A1900>4</font><font color=#FF0000>,</font>                   <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                    <font color=#9A1900>10</font><font color=#FF0000>,</font>                  <font color=#9A1900>3</font><font color=#FF0000>,</font>                  <font color=#9A1900>1</font><font color=#FF0000>,</font>                     <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                   <font color=#9A1900>1</font><font color=#FF0000>,</font>                  <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>3</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                  <font color=#9A1900>1</font><font color=#FF0000>,</font>                   <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                 <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                 <font color=#9A1900>1</font><font color=#FF0000>,</font>                 <font color=#9A1900>10</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.117'></a>
118: <a name='line.118'></a>
119:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    bolts         <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>20</font><font color=#FF0000>,</font>              <font color=#9A1900>40</font><font color=#FF0000>,</font>              <font color=#9A1900>20</font><font color=#FF0000>,</font>              <font color=#9A1900>20</font><font color=#FF0000>,</font>              <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>100</font><font color=#FF0000>,</font>             <font color=#9A1900>80</font><font color=#FF0000>,</font>              <font color=#9A1900>40</font><font color=#FF0000>,</font>               <font color=#9A1900>60</font><font color=#FF0000>,</font>               <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                   <font color=#9A1900>2</font><font color=#FF0000>,</font>                   <font color=#9A1900>42</font><font color=#FF0000>,</font>               <font color=#9A1900>45</font><font color=#FF0000>,</font>                   <font color=#9A1900>2</font><font color=#FF0000>,</font>                   <font color=#9A1900>40</font><font color=#FF0000>,</font>                 <font color=#9A1900>20</font><font color=#FF0000>,</font>                    <font color=#9A1900>21</font><font color=#FF0000>,</font>               <font color=#9A1900>22</font><font color=#FF0000>,</font>               <font color=#9A1900>23</font><font color=#FF0000>,</font>               <font color=#9A1900>24</font><font color=#FF0000>,</font>                  <font color=#9A1900>20</font><font color=#FF0000>,</font>                 <font color=#9A1900>20</font><font color=#FF0000>,</font>               <font color=#9A1900>40</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>21</font><font color=#FF0000>,</font>               <font color=#9A1900>41</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>80</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>10</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font>  <font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.119'></a>
120:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    orders        <font color=#FF0000>=</font> <font color=#000000>{</font>ORDER_NONE<font color=#FF0000>,</font>    ORDER_TRUE<font color=#FF0000>,</font>      ORDER_BATTLE<font color=#FF0000>,</font>    ORDER_TRUE<font color=#FF0000>,</font>      ORDER_TRUE<font color=#FF0000>,</font>      ORDER_TRUE<font color=#FF0000>,</font>      ORDER_TRUE<font color=#FF0000>,</font>      ORDER_TRUE<font color=#FF0000>,</font>      ORDER_TRUE<font color=#FF0000>,</font>      ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>          ORDER_TRUE<font color=#FF0000>,</font>          ORDER_GOBLIN<font color=#FF0000>,</font>     ORDER_GOBLIN<font color=#FF0000>,</font>         ORDER_TRUE<font color=#FF0000>,</font>          ORDER_EVIL<font color=#FF0000>,</font>         ORDER_GOOD<font color=#FF0000>,</font>            ORDER_GOOD<font color=#FF0000>,</font>       ORDER_GOOD<font color=#FF0000>,</font>       ORDER_GOOD<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>          ORDER_TRUE<font color=#FF0000>,</font>         ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_NEUTRAL<font color=#FF0000>,</font>    ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>         ORDER_TRUE<font color=#FF0000>,</font>          ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_EVIL<font color=#FF0000>,</font>       ORDER_ANCIENT<font color=#FF0000>,</font>    ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_GOBLIN<font color=#FF0000>,</font>     ORDER_TRUE<font color=#FF0000>,</font>       ORDER_RUNECASTING<font color=#FF0000>,</font> ORDER_EVIL<font color=#FF0000>,</font>       ORDER_RUNECASTING<font color=#FF0000>,</font> ORDER_ANCIENT<font color=#FF0000>,</font>     ORDER_NEUTRAL<font color=#FF0000>,</font>     ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE<font color=#FF0000>,</font>       ORDER_TRUE      <font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.120'></a>
121:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    targets       <font color=#FF0000>=</font> <font color=#000000>{</font>TARGET_NONE<font color=#FF0000>,</font>   TARGET_LOCATION<font color=#FF0000>,</font> TARGET_LOCATION<font color=#FF0000>,</font> TARGET_LOCATION<font color=#FF0000>,</font> TARGET_LOCATION<font color=#FF0000>,</font> TARGET_LOCATION<font color=#FF0000>,</font> TARGET_LOCATION<font color=#FF0000>,</font> TARGET_LOCATION<font color=#FF0000>,</font> TARGET_LOCATION<font color=#FF0000>,</font> TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>     TARGET_LOCATION<font color=#FF0000>,</font>     TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>      TARGET_LOCATION<font color=#FF0000>,</font>     TARGET_LOCATION<font color=#FF0000>,</font>    TARGET_SELF<font color=#FF0000>,</font>           TARGET_SELF<font color=#FF0000>,</font>      TARGET_SELF<font color=#FF0000>,</font>      TARGET_SELF<font color=#FF0000>,</font>      TARGET_SELF<font color=#FF0000>,</font>         TARGET_LOCATION<font color=#FF0000>,</font>    TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_SELF<font color=#FF0000>,</font>      TARGET_ITEM<font color=#FF0000>,</font>      TARGET_ITEM<font color=#FF0000>,</font>      TARGET_ITEM<font color=#FF0000>,</font>      TARGET_SELF<font color=#FF0000>,</font>      TARGET_LOCATION<font color=#FF0000>,</font>    TARGET_LOCATION<font color=#FF0000>,</font>     TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_ITEM<font color=#FF0000>,</font>      TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_SELF<font color=#FF0000>,</font>       TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_ITEM<font color=#FF0000>,</font>       TARGET_ITEM<font color=#FF0000>,</font>       TARGET_SELF<font color=#FF0000>,</font>       TARGET_SELF<font color=#FF0000>,</font>      TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_SELF<font color=#FF0000>,</font>      TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>  TARGET_LOCATION<font color=#FF0000>,</font>     TARGET_LOCATION<font color=#FF0000>,</font>     TARGET_LOCATION<font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.121'></a>
122:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    radii         <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                   <font color=#9A1900>2</font><font color=#FF0000>,</font>                   <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                    <font color=#9A1900>10</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                     <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>6</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>2</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.122'></a>
123:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    damages       <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             RPG<font color=#FF0000>.</font>DT_NORMAL<font color=#FF0000>,</font>   RPG<font color=#FF0000>.</font>DT_IMPACT<font color=#FF0000>,</font>   RPG<font color=#FF0000>.</font>DT_POISON<font color=#FF0000>,</font>   RPG<font color=#FF0000>.</font>DT_ACID<font color=#FF0000>,</font>     RPG<font color=#FF0000>.</font>DT_ICE<font color=#FF0000>,</font>      RPG<font color=#FF0000>.</font>DT_FIRE<font color=#FF0000>,</font>     RPG<font color=#FF0000>.</font>DT_MAGIC<font color=#FF0000>,</font>    RPG<font color=#FF0000>.</font>DT_CHILL<font color=#FF0000>,</font>    RPG<font color=#FF0000>.</font>DT_SPECIAL<font color=#FF0000>,</font>   RPG<font color=#FF0000>.</font>DT_MAGIC<font color=#FF0000>,</font>     RPG<font color=#FF0000>.</font>DT_FIRE<font color=#FF0000>,</font>      RPG<font color=#FF0000>.</font>DT_NORMAL<font color=#FF0000>,</font>    RPG<font color=#FF0000>.</font>DT_FIRE<font color=#FF0000>,</font>      RPG<font color=#FF0000>.</font>DT_FIRE<font color=#FF0000>,</font>         RPG<font color=#FF0000>.</font>DT_FIRE<font color=#FF0000>,</font>         <font color=#9A1900>0</font><font color=#FF0000>,</font>                RPG<font color=#FF0000>.</font>DT_POISON<font color=#FF0000>,</font>        RPG<font color=#FF0000>.</font>DT_NORMAL<font color=#FF0000>,</font>       RPG<font color=#FF0000>.</font>DT_POISON<font color=#FF0000>,</font>      <font color=#9A1900>0</font><font color=#FF0000>,</font>                     <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                RPG<font color=#FF0000>.</font>DT_SPECIAL<font color=#FF0000>,</font>   <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                   RPG<font color=#FF0000>.</font>DT_FIRE<font color=#FF0000>,</font>      RPG<font color=#FF0000>.</font>DT_ICE<font color=#FF0000>,</font>       RPG<font color=#FF0000>.</font>DT_ACID<font color=#FF0000>,</font>      <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 RPG<font color=#FF0000>.</font>DT_DRAIN<font color=#FF0000>,</font>     <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.123'></a>
124:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    strengthbonus <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             <font color=#9A1900>5</font><font color=#FF0000>,</font>               <font color=#9A1900>3</font><font color=#FF0000>,</font>               <font color=#9A1900>4</font><font color=#FF0000>,</font>               <font color=#9A1900>3</font><font color=#FF0000>,</font>               <font color=#9A1900>5</font><font color=#FF0000>,</font>               <font color=#9A1900>12</font><font color=#FF0000>,</font>              <font color=#9A1900>20</font><font color=#FF0000>,</font>              <font color=#9A1900>20</font><font color=#FF0000>,</font>              <font color=#9A1900>100</font><font color=#FF0000>,</font>              <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>4</font><font color=#FF0000>,</font>                <font color=#9A1900>15</font><font color=#FF0000>,</font>               <font color=#9A1900>10</font><font color=#FF0000>,</font>               <font color=#9A1900>6</font><font color=#FF0000>,</font>                   <font color=#9A1900>20</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>3</font><font color=#FF0000>,</font>                    <font color=#9A1900>50</font><font color=#FF0000>,</font>                  <font color=#9A1900>3</font><font color=#FF0000>,</font>                  <font color=#9A1900>2</font><font color=#FF0000>,</font>                     <font color=#9A1900>6</font><font color=#FF0000>,</font>                <font color=#9A1900>12</font><font color=#FF0000>,</font>               <font color=#9A1900>20</font><font color=#FF0000>,</font>               <font color=#9A1900>30</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>8</font><font color=#FF0000>,</font>                <font color=#9A1900>6</font><font color=#FF0000>,</font>                <font color=#9A1900>4</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>5</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>4</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>1</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.124'></a>
125:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    strengthmuls  <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             <font color=#9A1900>25</font><font color=#FF0000>,</font>              <font color=#9A1900>25</font><font color=#FF0000>,</font>              <font color=#9A1900>30</font><font color=#FF0000>,</font>              <font color=#9A1900>30</font><font color=#FF0000>,</font>              <font color=#9A1900>30</font><font color=#FF0000>,</font>              <font color=#9A1900>50</font><font color=#FF0000>,</font>              <font color=#9A1900>60</font><font color=#FF0000>,</font>              <font color=#9A1900>80</font><font color=#FF0000>,</font>              <font color=#9A1900>60</font><font color=#FF0000>,</font>               <font color=#9A1900>25</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>15</font><font color=#FF0000>,</font>               <font color=#9A1900>10</font><font color=#FF0000>,</font>               <font color=#9A1900>20</font><font color=#FF0000>,</font>                  <font color=#9A1900>30</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                    <font color=#9A1900>30</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                     <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>10</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.125'></a>
126:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    durations     <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>6000</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>5000</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                     <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>2000</font><font color=#FF0000>,</font>             <font color=#9A1900>3000</font><font color=#FF0000>,</font>             <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>5000</font><font color=#FF0000>,</font>             <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>5000</font><font color=#FF0000>,</font>              <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>2000</font><font color=#FF0000>,</font>             <font color=#9A1900>10000</font><font color=#FF0000>,</font>            <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.126'></a>
127:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    usages        <font color=#FF0000>=</font> <font color=#000000>{</font>SPELL_USELESS<font color=#FF0000>,</font> SPELL_OFFENCE<font color=#FF0000>,</font>   SPELL_OFFENCE<font color=#FF0000>,</font>   SPELL_OFFENCE<font color=#FF0000>,</font>   SPELL_OFFENCE<font color=#FF0000>,</font>   SPELL_OFFENCE<font color=#FF0000>,</font>   SPELL_OFFENCE<font color=#FF0000>,</font>   SPELL_OFFENCE<font color=#FF0000>,</font>   SPELL_OFFENCE<font color=#FF0000>,</font>   SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>       SPELL_OFFENCE<font color=#FF0000>,</font>       SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>        SPELL_OFFENCE<font color=#FF0000>,</font>       SPELL_OFFENCE<font color=#FF0000>,</font>      SPELL_DEFENCE<font color=#FF0000>,</font>         SPELL_DEFENCE<font color=#FF0000>,</font>    SPELL_DEFENCE<font color=#FF0000>,</font>    SPELL_DEFENCE<font color=#FF0000>,</font>    SPELL_DEFENCE<font color=#FF0000>,</font>       SPELL_DEFENCE<font color=#FF0000>,</font>      SPELL_DEFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_ENCHANT<font color=#FF0000>,</font>    SPELL_ENCHANT<font color=#FF0000>,</font>    SPELL_ENCHANT<font color=#FF0000>,</font>    SPELL_DEFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>      SPELL_TACTICAL<font color=#FF0000>,</font>      SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_ENCHANT<font color=#FF0000>,</font>    SPELL_SUMMON<font color=#FF0000>,</font>    SPELL_SUMMON<font color=#FF0000>,</font>      SPELL_SUMMON<font color=#FF0000>,</font>     SPELL_DEFENCE<font color=#FF0000>,</font>    SPELL_DEFENCE<font color=#FF0000>,</font>     SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_ENCHANT<font color=#FF0000>,</font>     SPELL_ENCHANT<font color=#FF0000>,</font>     SPELL_DEFENCE<font color=#FF0000>,</font>     SPELL_DEFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_TACTICAL<font color=#FF0000>,</font>   SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>    SPELL_OFFENCE<font color=#FF0000>,</font>       SPELL_OFFENCE<font color=#FF0000>,</font>       TARGET_LOCATION<font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.127'></a>
128:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font>    zeroes        <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>0</font><font color=#FF0000>,</font>             <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>               <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                    <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                     <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                  <font color=#9A1900>0</font><font color=#FF0000>,</font>                   <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                 <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#FF0000>,</font>                <font color=#9A1900>0</font><font color=#000000>}</font><font color=#FF0000>;</font> <a name='line.128'></a>
129: <a name='line.129'></a>
130:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font> levelpowers     <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>9</font><font color=#FF0000>,</font><font color=#9A1900>10</font><font color=#FF0000>,</font><font color=#9A1900>11</font><font color=#FF0000>,</font><font color=#9A1900>12</font><font color=#FF0000>,</font><font color=#9A1900>14</font><font color=#FF0000>,</font><font color=#9A1900>16</font><font color=#FF0000>,</font><font color=#9A1900>18</font><font color=#FF0000>,</font><font color=#9A1900>20</font><font color=#FF0000>,</font><font color=#9A1900>22</font><font color=#FF0000>,</font><font color=#9A1900>25</font><font color=#FF0000>,</font><font color=#9A1900>28</font><font color=#FF0000>,</font><font color=#9A1900>32</font><font color=#FF0000>,</font><font color=#9A1900>36</font><font color=#FF0000>,</font><font color=#9A1900>40</font><font color=#FF0000>,</font><font color=#9A1900>44</font><font color=#FF0000>,</font><font color=#9A1900>50</font><font color=#FF0000>,</font><font color=#9A1900>56</font><font color=#FF0000>,</font><font color=#9A1900>64</font><font color=#FF0000>,</font><font color=#9A1900>72</font><font color=#FF0000>,</font><font color=#9A1900>80</font><font color=#FF0000>,</font><font color=#9A1900>88</font><font color=#FF0000>,</font><font color=#9A1900>100</font><font color=#FF0000>,</font><font color=#9A1900>112</font><font color=#FF0000>,</font><font color=#9A1900>128</font><font color=#FF0000>,</font><font color=#9A1900>144</font><font color=#FF0000>,</font><font color=#9A1900>160</font><font color=#FF0000>,</font><font color=#9A1900>176</font><font color=#FF0000>,</font><font color=#9A1900>200</font><font color=#FF0000>,</font><font color=#9A1900>224</font><font color=#FF0000>,</font><font color=#9A1900>256</font><font color=#FF0000>,</font><font color=#9A1900>288</font><font color=#FF0000>,</font><font color=#9A1900>320</font><font color=#000000>}</font><font color=#FF0000>;</font><a name='line.130'></a>
131:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <b><font color=#0000FF>final</font></b> <font color=#0000FF>int</font><font color=#FF0000>[</font><font color=#FF0000>]</font> powermodifiers  <font color=#FF0000>=</font> <font color=#000000>{</font><font color=#9A1900>25</font><font color=#FF0000>,</font><font color=#9A1900>50</font><font color=#FF0000>,</font><font color=#9A1900>75</font><font color=#FF0000>,</font><font color=#9A1900>90</font><font color=#FF0000>,</font><font color=#9A1900>100</font><font color=#FF0000>,</font><font color=#9A1900>110</font><font color=#FF0000>,</font><font color=#9A1900>120</font><font color=#FF0000>,</font><font color=#9A1900>125</font><font color=#FF0000>,</font><font color=#9A1900>130</font><font color=#FF0000>,</font><font color=#9A1900>135</font><font color=#FF0000>,</font><font color=#9A1900>140</font><font color=#FF0000>,</font><font color=#9A1900>144</font><font color=#FF0000>,</font><font color=#9A1900>147</font><font color=#FF0000>,</font><font color=#9A1900>150</font><font color=#FF0000>,</font><font color=#9A1900>153</font><font color=#FF0000>,</font><font color=#9A1900>156</font><font color=#FF0000>,</font><font color=#9A1900>158</font><font color=#FF0000>,</font><font color=#9A1900>160</font><font color=#FF0000>,</font><font color=#9A1900>162</font><font color=#FF0000>,</font><font color=#9A1900>163</font><font color=#FF0000>,</font><font color=#9A1900>164</font><font color=#FF0000>,</font><font color=#9A1900>165</font><font color=#FF0000>,</font><font color=#9A1900>166</font><font color=#FF0000>,</font><font color=#9A1900>168</font><font color=#FF0000>,</font><font color=#9A1900>170</font><font color=#FF0000>,</font><font color=#9A1900>171</font><font color=#FF0000>,</font><font color=#9A1900>172</font><font color=#FF0000>,</font><font color=#9A1900>173</font><font color=#FF0000>,</font><font color=#9A1900>174</font><font color=#FF0000>,</font><font color=#9A1900>175</font><font color=#FF0000>,</font><font color=#9A1900>176</font><font color=#FF0000>,</font><font color=#9A1900>177</font><font color=#FF0000>,</font><font color=#9A1900>178</font><font color=#FF0000>,</font><font color=#9A1900>179</font><font color=#FF0000>,</font><font color=#9A1900>180</font><font color=#FF0000>,</font><font color=#9A1900>181</font><font color=#FF0000>,</font><font color=#9A1900>182</font><font color=#FF0000>,</font><font color=#9A1900>183</font><font color=#FF0000>,</font><font color=#9A1900>184</font><font color=#FF0000>,</font><font color=#9A1900>185</font><font color=#FF0000>,</font><font color=#9A1900>186</font><font color=#FF0000>,</font><font color=#9A1900>187</font><font color=#FF0000>,</font><font color=#9A1900>188</font><font color=#FF0000>,</font><font color=#9A1900>189</font><font color=#FF0000>,</font><font color=#9A1900>190</font><font color=#FF0000>,</font><font color=#9A1900>191</font><font color=#FF0000>,</font><font color=#9A1900>192</font><font color=#FF0000>,</font><font color=#9A1900>193</font><font color=#FF0000>,</font><font color=#9A1900>194</font><font color=#FF0000>,</font><font color=#9A1900>195</font><font color=#FF0000>,</font><font color=#9A1900>196</font><font color=#FF0000>,</font><font color=#9A1900>197</font><font color=#FF0000>,</font><font color=#9A1900>198</font><font color=#FF0000>,</font><font color=#9A1900>199</font><font color=#FF0000>,</font><font color=#9A1900>200</font><font color=#000000>}</font><font color=#FF0000>;</font><a name='line.131'></a>
132:       <a name='line.132'></a>
133:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> type<font color=#FF0000>;</font><a name='line.133'></a>
134:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> level<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font> <a name='line.134'></a>
135:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> cost<font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.135'></a>
136:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> power<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font><a name='line.136'></a>
137: <a name='line.137'></a>
138:     <a name='line.138'></a>
139:   <b><font color=#0000FF>public</font></b> <b><font color=#000000>Spell</font></b><font color=#FF0000>(</font><font color=#0000FF>int</font> t<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.139'></a>
140:     <b><font color=#0000FF>this</font></b><font color=#FF0000>(</font>t<font color=#FF0000>,</font>levels<font color=#FF0000>[</font>t<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.140'></a>
141:   <font color=#000000>}</font><a name='line.141'></a>
142:   <a name='line.142'></a>
143:   <b><font color=#0000FF>public</font></b> <b><font color=#000000>Spell</font></b><font color=#FF0000>(</font><font color=#0000FF>int</font> t<font color=#FF0000>,</font> <font color=#0000FF>int</font> l<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.143'></a>
144:     type<font color=#FF0000>=</font>t<font color=#FF0000>;</font><a name='line.144'></a>
145:     level<font color=#FF0000>=</font>l<font color=#FF0000>;</font><a name='line.145'></a>
146:     cost<font color=#FF0000>=</font>costs<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>;</font><a name='line.146'></a>
147:     power<font color=#FF0000>=</font><b><font color=#000000>defaultLevelPower</font></b><font color=#FF0000>(</font>level<font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.147'></a>
148:   <font color=#000000>}</font><a name='line.148'></a>
149:   <a name='line.149'></a>
150:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <font color=#0000FF>int</font> <b><font color=#000000>numSpells</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.150'></a>
151:     <b><font color=#0000FF>return</font></b> names<font color=#FF0000>.</font>length<font color=#FF0000>;</font> <a name='line.151'></a>
152:   <font color=#000000>}</font><a name='line.152'></a>
153:   <a name='line.153'></a>
154:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <font color=#0000FF>int</font> <b><font color=#000000>randomSpell</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.154'></a>
155:     <b><font color=#0000FF>return</font></b> <b><font color=#000000>randomSpell</font></b><font color=#FF0000>(</font><font color=#9A1900>1000</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.155'></a>
156:   <font color=#000000>}</font><a name='line.156'></a>
157:   <a name='line.157'></a>
158:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <font color=#0000FF>int</font> <b><font color=#000000>randomOffensiveSpell</font></b><font color=#FF0000>(</font><font color=#0000FF>int</font> maxlevel<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.158'></a>
159:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>maxlevel<font color=#FF0000>&lt;</font><font color=#9A1900>1</font><font color=#FF0000>)</font> maxlevel<font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.159'></a>
160:     <a name='line.160'></a>
161:     <b><font color=#0000FF>for</font></b> <font color=#FF0000>(</font><font color=#0000FF>int</font> i<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font> i<font color=#FF0000>&lt;</font><font color=#9A1900>200</font><font color=#FF0000>;</font> i<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.161'></a>
162:       <font color=#0000FF>int</font> r<font color=#FF0000>=</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><b><font color=#000000>numSpells</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>-</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.162'></a>
163:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>levels<font color=#FF0000>[</font>r<font color=#FF0000>]</font><font color=#FF0000>&lt;</font><font color=#FF0000>=</font>maxlevel<font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font>usages<font color=#FF0000>[</font>r<font color=#FF0000>]</font><font color=#FF0000>=</font><font color=#FF0000>=</font>SPELL_OFFENCE<font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font>rarity<font color=#FF0000>[</font>r<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b> r<font color=#FF0000>;</font> <a name='line.163'></a>
164:     <font color=#000000>}</font> <a name='line.164'></a>
165:     <b><font color=#0000FF>return</font></b> MISSILE<font color=#FF0000>;</font><a name='line.165'></a>
166:   <font color=#000000>}</font><a name='line.166'></a>
167: <a name='line.167'></a>
168:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <font color=#0000FF>int</font> <b><font color=#000000>randomSpell</font></b><font color=#FF0000>(</font><font color=#0000FF>int</font> maxlevel<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.168'></a>
169:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>maxlevel<font color=#FF0000>&lt;</font><font color=#9A1900>1</font><font color=#FF0000>)</font> maxlevel<font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.169'></a>
170:     <a name='line.170'></a>
171:     <b><font color=#0000FF>for</font></b> <font color=#FF0000>(</font><font color=#0000FF>int</font> i<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font> i<font color=#FF0000>&lt;</font><font color=#9A1900>100</font><font color=#FF0000>;</font> i<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.171'></a>
172:       <font color=#0000FF>int</font> r<font color=#FF0000>=</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><b><font color=#000000>numSpells</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>-</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.172'></a>
173:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>levels<font color=#FF0000>[</font>r<font color=#FF0000>]</font><font color=#FF0000>&lt;</font><font color=#FF0000>=</font>maxlevel<font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font>rarity<font color=#FF0000>[</font>r<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b> r<font color=#FF0000>;</font> <a name='line.173'></a>
174:     <font color=#000000>}</font> <a name='line.174'></a>
175:     <b><font color=#0000FF>return</font></b> MISSILE<font color=#FF0000>;</font><a name='line.175'></a>
176:   <font color=#000000>}</font><a name='line.176'></a>
177: <a name='line.177'></a>
178:   <b><font color=#0000FF>public</font></b> <b><font color=#0000FF>static</font></b> <font color=#0000FF>int</font> <b><font color=#000000>randomSpell</font></b><font color=#FF0000>(</font><font color=#0000FF>int</font> maxlevel<font color=#FF0000>,</font> <font color=#0000FF>int</font> order<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.178'></a>
179:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>maxlevel<font color=#FF0000>&lt;</font><font color=#9A1900>1</font><font color=#FF0000>)</font> maxlevel<font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.179'></a>
180:     <a name='line.180'></a>
181:     <b><font color=#0000FF>for</font></b> <font color=#FF0000>(</font><font color=#0000FF>int</font> i<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font> i<font color=#FF0000>&lt;</font><font color=#9A1900>100</font><font color=#FF0000>;</font> i<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.181'></a>
182:       <font color=#0000FF>int</font> r<font color=#FF0000>=</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><b><font color=#000000>numSpells</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>-</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.182'></a>
183:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>orders<font color=#FF0000>[</font>r<font color=#FF0000>]</font><font color=#FF0000>=</font><font color=#FF0000>=</font>order<font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font>levels<font color=#FF0000>[</font>r<font color=#FF0000>]</font><font color=#FF0000>&lt;</font><font color=#FF0000>=</font>maxlevel<font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font>rarity<font color=#FF0000>[</font>r<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b> r<font color=#FF0000>;</font> <a name='line.183'></a>
184:     <font color=#000000>}</font> <a name='line.184'></a>
185:     <b><font color=#0000FF>return</font></b> MISSILE<font color=#FF0000>;</font><a name='line.185'></a>
186:   <font color=#000000>}</font><a name='line.186'></a>
187: <a name='line.187'></a>
188: <a name='line.188'></a>
189: <a name='line.189'></a>
190:   <b><font color=#009900>// default power for each spell level</font></b><a name='line.190'></a>
191:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>defaultLevelPower</font></b><font color=#FF0000>(</font><font color=#0000FF>int</font> lev<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.191'></a>
192:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>lev<font color=#FF0000>&lt;</font><font color=#9A1900>0</font><font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font><b><font color=#000000>defaultLevelPower</font></b><font color=#FF0000>(</font>lev<font color=#FF0000>+</font><font color=#9A1900>24</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#9A1900>8</font><font color=#FF0000>)</font><font color=#FF0000>/</font><font color=#9A1900>16</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.192'></a>
193:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>lev<font color=#FF0000>&gt;</font><font color=#FF0000>=</font>levelpowers<font color=#FF0000>.</font>length<font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font><b><font color=#000000>defaultLevelPower</font></b><font color=#FF0000>(</font>lev<font color=#FF0000>-</font><font color=#9A1900>12</font><font color=#FF0000>)</font><font color=#FF0000>*</font><font color=#9A1900>4</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.193'></a>
194:     <b><font color=#0000FF>return</font></b> <font color=#FF0000>(</font>levelpowers<font color=#FF0000>[</font>lev<font color=#FF0000>]</font><font color=#FF0000>*</font>levelpowers<font color=#FF0000>[</font>lev<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>/</font><font color=#9A1900>5</font><font color=#FF0000>;</font> <a name='line.194'></a>
195:   <font color=#000000>}</font><a name='line.195'></a>
196: <a name='line.196'></a>
197:   <b><font color=#0000FF>public</font></b> <b><font color=#000000>Spell</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.197'></a>
198:     <b><font color=#0000FF>this</font></b><font color=#FF0000>(</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.198'></a>
199:   <font color=#000000>}</font><a name='line.199'></a>
200: <a name='line.200'></a>
201:   <b><font color=#0000FF>public</font></b> String <b><font color=#000000>getName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font><b><font color=#0000FF>return</font></b> names<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>;</font><font color=#000000>}</font><a name='line.201'></a>
202:     <a name='line.202'></a>
203:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getLevel</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font><b><font color=#0000FF>return</font></b> level<font color=#FF0000>;</font><font color=#000000>}</font><a name='line.203'></a>
204:   <a name='line.204'></a>
205:   <b><font color=#009900>// difficulty level for spell</font></b><a name='line.205'></a>
206:   <b><font color=#009900>// character must have at least this ability level to cast</font></b><a name='line.206'></a>
207:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getDifficulty</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.207'></a>
208:     <b><font color=#0000FF>return</font></b> levels<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>;</font>    <a name='line.208'></a>
209:   <font color=#000000>}</font><a name='line.209'></a>
210:     <a name='line.210'></a>
211:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>castTime</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.211'></a>
212:     <b><font color=#0000FF>return</font></b> <font color=#9A1900>3000</font><font color=#FF0000>/</font><font color=#FF0000>(</font><font color=#9A1900>10</font><font color=#FF0000>+</font><b><font color=#000000>getAbility</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>-</font><b><font color=#000000>getDifficulty</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.212'></a>
213:   <font color=#000000>}</font><a name='line.213'></a>
214:   <a name='line.214'></a>
215:   <b><font color=#009900>// power modifier</font></b><a name='line.215'></a>
216:   <b><font color=#009900>// should only call with a valid caster</font></b><a name='line.216'></a>
217:   <b><font color=#009900>// should make this dependant on level / practice?</font></b><a name='line.217'></a>
218:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getPowerModifier</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.218'></a>
219:     <font color=#0000FF>int</font> skillnumber<font color=#FF0000>=</font>orderskills<font color=#FF0000>[</font>orders<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>]</font><font color=#FF0000>;</font><a name='line.219'></a>
220:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>skillnumber<font color=#FF0000>&gt;</font><font color=#9A1900>0</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.220'></a>
221:       <b><font color=#0000FF>return</font></b> <font color=#9A1900>50</font><font color=#FF0000>+</font><font color=#9A1900>25</font><font color=#FF0000>*</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>skillnumber<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.221'></a>
222:     <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.222'></a>
223:       <b><font color=#0000FF>return</font></b> <font color=#9A1900>100</font><font color=#FF0000>;</font> <a name='line.223'></a>
224:     <font color=#000000>}</font><a name='line.224'></a>
225:   <font color=#000000>}</font> <a name='line.225'></a>
226:   <a name='line.226'></a>
227:   <b><font color=#009900>// the power of the spell, indication of caster ability</font></b><a name='line.227'></a>
228:   <b><font color=#009900>// roughly in line with caster IN, with modifications</font></b><a name='line.228'></a>
229:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getPower</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.229'></a>
230:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>=</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.230'></a>
231:       <b><font color=#0000FF>return</font></b> power<font color=#FF0000>&gt;</font><font color=#FF0000>=</font><font color=#9A1900>0</font> <font color=#FF0000>?</font> power <font color=#FF0000>:</font> <b><font color=#000000>defaultLevelPower</font></b><font color=#FF0000>(</font><b><font color=#000000>getLevel</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.231'></a>
232:     <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.232'></a>
233:       <b><font color=#009900>// return intelligence of the caster</font></b><a name='line.233'></a>
234:       <b><font color=#009900>// this modifies spell power</font></b><a name='line.234'></a>
235:       <b><font color=#009900>// really need to modify for spell learning / magic skillz</font></b><a name='line.235'></a>
236:       <font color=#0000FF>int</font> pow <font color=#FF0000>=</font> caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_IN<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.236'></a>
237:       pow<font color=#FF0000>=</font><font color=#FF0000>(</font>pow<font color=#FF0000>*</font><b><font color=#000000>getPowerModifier</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>/</font><font color=#9A1900>100</font><font color=#FF0000>;</font><a name='line.237'></a>
238:       <b><font color=#0000FF>return</font></b> pow<font color=#FF0000>;</font><a name='line.238'></a>
239:     <font color=#000000>}</font> <a name='line.239'></a>
240:   <font color=#000000>}</font><a name='line.240'></a>
241:   <a name='line.241'></a>
242:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getStrength</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.242'></a>
243:     <b><font color=#0000FF>return</font></b> <font color=#FF0000>(</font>strengthmuls<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>*</font><b><font color=#000000>getPower</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>/</font><font color=#9A1900>100</font><font color=#FF0000>+</font>strengthbonus<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>;</font> <a name='line.243'></a>
244:   <font color=#000000>}</font><a name='line.244'></a>
245:   <a name='line.245'></a>
246:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getCost</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.246'></a>
247:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>=</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.247'></a>
248:       <b><font color=#0000FF>return</font></b> cost<font color=#FF0000>;</font> <a name='line.248'></a>
249:     <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.249'></a>
250:       <b><font color=#0000FF>return</font></b> cost<font color=#FF0000>;</font><a name='line.250'></a>
251:     <font color=#000000>}</font>  <a name='line.251'></a>
252:   <font color=#000000>}</font><a name='line.252'></a>
253:   <a name='line.253'></a>
254:     <b><font color=#009900>// make caster cast spell automatically</font></b><a name='line.254'></a>
255:   <b><font color=#009900>// make most effective use of spell</font></b><a name='line.255'></a>
256:   <b><font color=#009900>// returns true if spell cast</font></b><a name='line.256'></a>
257:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>boolean</font> <b><font color=#000000>castAI</font></b><font color=#FF0000>(</font>Being caster<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.257'></a>
258:     <b><font color=#009900>// this cheat allows creatures to cast lots</font></b><a name='line.258'></a>
259:     cost<font color=#FF0000>=</font><font color=#9A1900>3</font><font color=#FF0000>;</font><a name='line.259'></a>
260:     <a name='line.260'></a>
261:     <b><font color=#009900>// bail out if we have insufficient energy to cast</font></b><a name='line.261'></a>
262:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>cost<font color=#FF0000>&gt;</font>caster<font color=#FF0000>.</font>mps<font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b> false<font color=#FF0000>;</font><a name='line.262'></a>
263:     <a name='line.263'></a>
264:     Map map<font color=#FF0000>=</font>caster<font color=#FF0000>.</font><b><font color=#000000>getMap</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.264'></a>
265: <a name='line.265'></a>
266:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>usages<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>=</font><font color=#FF0000>=</font>SPELL_OFFENCE<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.266'></a>
267:       <a name='line.267'></a>
268:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>map<font color=#FF0000>=</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b> false<font color=#FF0000>;</font><a name='line.268'></a>
269:       <a name='line.269'></a>
270:       <b><font color=#009900>// find enemy to shoot at</font></b><a name='line.270'></a>
271:       Thing p<font color=#FF0000>=</font>map<font color=#FF0000>.</font><b><font color=#000000>findNearestFoe</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.271'></a>
272:       <a name='line.272'></a>
273:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>p <b><font color=#0000FF>instanceof</font></b> Mobile<font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font>caster<font color=#FF0000>.</font><b><font color=#000000>canSee</font></b><font color=#FF0000>(</font>p<font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.273'></a>
274:         <b><font color=#009900>// check if friend is too close!!</font></b><a name='line.274'></a>
275:         <b><font color=#009900>// if not, then cast at target as planned</font></b><a name='line.275'></a>
276:         Thing f<font color=#FF0000>=</font>map<font color=#FF0000>.</font><b><font color=#000000>findNearestFoe</font></b><font color=#FF0000>(</font><font color=#FF0000>(</font>Mobile<font color=#FF0000>)</font>p<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.276'></a>
277:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>f<font color=#FF0000>=</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font><font color=#FF0000>|</font><font color=#FF0000>|</font><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>dist</font></b><font color=#FF0000>(</font>f<font color=#FF0000>.</font>x<font color=#FF0000>,</font>f<font color=#FF0000>.</font>y<font color=#FF0000>,</font>p<font color=#FF0000>.</font>x<font color=#FF0000>,</font>p<font color=#FF0000>.</font>y<font color=#FF0000>)</font><font color=#FF0000>&gt;</font>radii<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.277'></a>
278:           <b><font color=#000000>castAtLocation</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>map<font color=#FF0000>,</font>p<font color=#FF0000>.</font>x<font color=#FF0000>,</font>p<font color=#FF0000>.</font>y<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.278'></a>
279:           caster<font color=#FF0000>.</font>aps<font color=#FF0000>-</font><font color=#FF0000>=</font><b><font color=#000000>castTime</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.279'></a>
280:           caster<font color=#FF0000>.</font>mps<font color=#FF0000>-</font><font color=#FF0000>=</font>cost<font color=#FF0000>;</font><a name='line.280'></a>
281:           <b><font color=#0000FF>return</font></b> true<font color=#FF0000>;</font><a name='line.281'></a>
282:         <font color=#000000>}</font><a name='line.282'></a>
283:       <font color=#000000>}</font> <a name='line.283'></a>
284:       <b><font color=#0000FF>return</font></b> false<font color=#FF0000>;</font><a name='line.284'></a>
285:       <a name='line.285'></a>
286:     <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>usages<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>=</font><font color=#FF0000>=</font>SPELL_DEFENCE<font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font>caster<font color=#FF0000>.</font>hps<font color=#FF0000>&lt;</font><font color=#FF0000>=</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_HPSMAX<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.286'></a>
287:       <a name='line.287'></a>
288:       <b><font color=#009900>// we're wounded, so cast a defensive spell</font></b><a name='line.288'></a>
289:       <b><font color=#000000>castAtSelf</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.289'></a>
290:       caster<font color=#FF0000>.</font>aps<font color=#FF0000>-</font><font color=#FF0000>=</font><b><font color=#000000>castTime</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.290'></a>
291:       caster<font color=#FF0000>.</font>mps<font color=#FF0000>-</font><font color=#FF0000>=</font>cost<font color=#FF0000>;</font><a name='line.291'></a>
292:       <b><font color=#0000FF>return</font></b> true<font color=#FF0000>;</font><a name='line.292'></a>
293:     <a name='line.293'></a>
294:     <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>usages<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>=</font><font color=#FF0000>=</font>SPELL_SUMMON<font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font>caster<font color=#FF0000>.</font><b><font color=#000000>isVisible</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.294'></a>
295:       <a name='line.295'></a>
296:       <b><font color=#009900>// cast summon spell between caster and nearest foe</font></b><a name='line.296'></a>
297:       Thing f<font color=#FF0000>=</font>map<font color=#FF0000>.</font><b><font color=#000000>findNearestFoe</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.297'></a>
298:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>f<font color=#FF0000>!</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.298'></a>
299:         <a name='line.299'></a>
300:         <font color=#0000FF>int</font> tx<font color=#FF0000>=</font><font color=#FF0000>(</font>caster<font color=#FF0000>.</font>x<font color=#FF0000>+</font>f<font color=#FF0000>.</font>x<font color=#FF0000>)</font><font color=#FF0000>/</font><font color=#9A1900>2</font><font color=#FF0000>;</font><a name='line.300'></a>
301:         <font color=#0000FF>int</font> ty<font color=#FF0000>=</font><font color=#FF0000>(</font>caster<font color=#FF0000>.</font>y<font color=#FF0000>+</font>f<font color=#FF0000>.</font>y<font color=#FF0000>)</font><font color=#FF0000>/</font><font color=#9A1900>2</font><font color=#FF0000>;</font><a name='line.301'></a>
302:         <a name='line.302'></a>
303:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>!</font>map<font color=#FF0000>.</font><b><font color=#000000>isBlocked</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.303'></a>
304:           Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" shouts words of summoning!"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.304'></a>
305:           <b><font color=#000000>castAtLocation</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>map<font color=#FF0000>,</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.305'></a>
306:           caster<font color=#FF0000>.</font>aps<font color=#FF0000>-</font><font color=#FF0000>=</font><b><font color=#000000>castTime</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.306'></a>
307:           caster<font color=#FF0000>.</font>mps<font color=#FF0000>-</font><font color=#FF0000>=</font>cost<font color=#FF0000>;</font><a name='line.307'></a>
308:           <b><font color=#0000FF>return</font></b> true<font color=#FF0000>;</font><a name='line.308'></a>
309:         <font color=#000000>}</font><a name='line.309'></a>
310: <a name='line.310'></a>
311:       <font color=#000000>}</font><a name='line.311'></a>
312:     <font color=#000000>}</font><a name='line.312'></a>
313:     <b><font color=#0000FF>return</font></b> false<font color=#FF0000>;</font><a name='line.313'></a>
314:   <font color=#000000>}</font><a name='line.314'></a>
315:   <a name='line.315'></a>
316:   <b><font color=#009900>// return the maximum skill level which the caster can achieve</font></b><a name='line.316'></a>
317:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getAbility</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.317'></a>
318:         <font color=#0000FF>int</font> limit<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font><a name='line.318'></a>
319:       <b><font color=#0000FF>switch</font></b> <font color=#FF0000>(</font><b><font color=#000000>getOrder</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.319'></a>
320:         <b><font color=#0000FF>case</font></b> ORDER_GOOD<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> ORDER_NEUTRAL<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> ORDER_EVIL<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> ORDER_HEALING<font color=#FF0000>:</font>    <a name='line.320'></a>
321:               limit<font color=#FF0000>=</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_PRIEST<font color=#FF0000>)</font><font color=#FF0000>;</font> <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.321'></a>
322:           <b><font color=#0000FF>case</font></b> ORDER_ALCHEMY<font color=#FF0000>:</font><a name='line.322'></a>
323:               limit<font color=#FF0000>=</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_SCHOLAR<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.323'></a>
324:           <b><font color=#0000FF>case</font></b> ORDER_BATTLE<font color=#FF0000>:</font>     <a name='line.324'></a>
325:               limit<font color=#FF0000>=</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_FIGHTER<font color=#FF0000>)</font><font color=#FF0000>;</font> <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.325'></a>
326:           <b><font color=#0000FF>default</font></b><font color=#FF0000>:</font> <a name='line.326'></a>
327:               limit<font color=#FF0000>=</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_MAGE<font color=#FF0000>)</font><font color=#FF0000>;</font> <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.327'></a>
328:       <font color=#000000>}</font>    <a name='line.328'></a>
329:     <b><font color=#0000FF>return</font></b> limit<font color=#FF0000>;</font><a name='line.329'></a>
330:     <font color=#000000>}</font><a name='line.330'></a>
331:     <a name='line.331'></a>
332:     <b><font color=#009900>// train the caster in the given spell</font></b><a name='line.332'></a>
333:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>void</font> <b><font color=#000000>train</font></b><font color=#FF0000>(</font>Being caster<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.333'></a>
334:       <font color=#0000FF>int</font> cl<font color=#FF0000>=</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_LEVEL<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.334'></a>
335:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font>cl<font color=#FF0000>)</font><font color=#FF0000>&lt;</font><font color=#FF0000>=</font>level<font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.335'></a>
336:     <a name='line.336'></a>
337:       <font color=#0000FF>int</font> learning<font color=#FF0000>=</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_IN<font color=#FF0000>)</font><font color=#FF0000>*</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_IN<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.337'></a>
338:       <font color=#0000FF>int</font> difficulty<font color=#FF0000>=</font>level<font color=#FF0000>*</font>level<font color=#FF0000>*</font>cost<font color=#FF0000>;</font><a name='line.338'></a>
339:       <a name='line.339'></a>
340:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>test</font></b><font color=#FF0000>(</font>learning<font color=#FF0000>,</font>difficulty<font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.340'></a>
341:         level<font color=#FF0000>=</font>level<font color=#FF0000>+</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.341'></a>
342:       <font color=#000000>}</font><a name='line.342'></a>
343:     <font color=#000000>}</font> <a name='line.343'></a>
344:     <a name='line.344'></a>
345:     <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getOrder</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font><b><font color=#0000FF>return</font></b> orders<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>;</font><font color=#000000>}</font><a name='line.345'></a>
346: <a name='line.346'></a>
347:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getUsage</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font><b><font color=#0000FF>return</font></b> usages<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>;</font><font color=#000000>}</font><a name='line.347'></a>
348: <a name='line.348'></a>
349:   <b><font color=#0000FF>public</font></b> String <b><font color=#000000>castMessage</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font><b><font color=#0000FF>return</font></b> <font color=#808080>"You cast "</font><font color=#FF0000>+</font><b><font color=#000000>getName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>;</font><font color=#000000>}</font><a name='line.349'></a>
350:     <a name='line.350'></a>
351:     <b><font color=#0000FF>public</font></b> <font color=#0000FF>int</font> <b><font color=#000000>getTarget</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font> <font color=#000000>{</font> <b><font color=#0000FF>return</font></b> targets<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>;</font>    <font color=#000000>}</font><a name='line.351'></a>
352:     <a name='line.352'></a>
353:     <b><font color=#0000FF>public</font></b> <font color=#0000FF>void</font> <b><font color=#000000>castAtSelf</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.353'></a>
354:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>=</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.354'></a>
355:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><b><font color=#000000>getTarget</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font>TARGET_LOCATION<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.355'></a>
356:       <b><font color=#000000>castAtLocation</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>caster<font color=#FF0000>.</font><b><font color=#000000>getMap</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>,</font>caster<font color=#FF0000>.</font>x<font color=#FF0000>,</font>caster<font color=#FF0000>.</font>y<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.356'></a>
357:       <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font> <a name='line.357'></a>
358:     <font color=#000000>}</font><a name='line.358'></a>
359:     <a name='line.359'></a>
360:     Hero h<font color=#FF0000>=</font>Game<font color=#FF0000>.</font>hero<font color=#FF0000>;</font><a name='line.360'></a>
361:     Map map<font color=#FF0000>=</font>caster<font color=#FF0000>.</font><b><font color=#000000>getMap</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.361'></a>
362:     <a name='line.362'></a>
363:     <b><font color=#0000FF>switch</font></b> <font color=#FF0000>(</font>type<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.363'></a>
364:       <b><font color=#0000FF>case</font></b> LIGHTHEAL<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> HEAL<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> STRONGHEAL<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> POWERHEAL<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> TOTALHEALING<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.364'></a>
365:         Being t<font color=#FF0000>=</font><font color=#FF0000>(</font>Being<font color=#FF0000>)</font>caster<font color=#FF0000>;</font><a name='line.365'></a>
366:         <font color=#0000FF>int</font> max<font color=#FF0000>=</font>t<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_HPSMAX<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.366'></a>
367: <a name='line.367'></a>
368:         <b><font color=#009900>// calculate heal amount (hps)</font></b><a name='line.368'></a>
369:         <font color=#0000FF>int</font> heal<font color=#FF0000>=</font>RPG<font color=#FF0000>.</font><b><font color=#000000>a</font></b><font color=#FF0000>(</font><font color=#FF0000>(</font>cost<font color=#FF0000>*</font><font color=#FF0000>(</font><font color=#9A1900>10</font><font color=#FF0000>+</font>level<font color=#FF0000>-</font><b><font color=#000000>getDifficulty</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>/</font><font color=#9A1900>10</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.369'></a>
370:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>type<font color=#FF0000>=</font><font color=#FF0000>=</font>TOTALHEALING<font color=#FF0000>)</font> heal<font color=#FF0000>=</font><font color=#9A1900>1000</font><font color=#FF0000>;</font><a name='line.370'></a>
371:         heal<font color=#FF0000>=</font>RPG<font color=#FF0000>.</font><b><font color=#000000>middle</font></b><font color=#FF0000>(</font><font color=#9A1900>0</font><font color=#FF0000>,</font>heal<font color=#FF0000>,</font>max<font color=#FF0000>-</font>t<font color=#FF0000>.</font>hps<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.371'></a>
372:         <a name='line.372'></a>
373:         t<font color=#FF0000>.</font>hps<font color=#FF0000>+</font><font color=#FF0000>=</font>heal<font color=#FF0000>;</font><a name='line.373'></a>
374:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>t<font color=#FF0000>=</font><font color=#FF0000>=</font>h<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.374'></a>
375:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>heal<font color=#FF0000>&gt;</font><font color=#9A1900>0</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.375'></a>
376:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"You feel much better"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.376'></a>
377:           <font color=#000000>}</font>  <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.377'></a>
378:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"The healing has no effect"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.378'></a>
379:           <font color=#000000>}</font><a name='line.379'></a>
380:         <font color=#000000>}</font><a name='line.380'></a>
381:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.381'></a>
382:       <font color=#000000>}</font><a name='line.382'></a>
383:       <a name='line.383'></a>
384:       <b><font color=#0000FF>case</font></b> TELEPORT<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.384'></a>
385:         Point p<font color=#FF0000>=</font>map<font color=#FF0000>.</font><b><font color=#000000>findFreeSquare</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.385'></a>
386:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>p<font color=#FF0000>!</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.386'></a>
387:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>=</font><font color=#FF0000>=</font>h<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.387'></a>
388:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"You teleport..."</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.388'></a>
389:           <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>.</font><b><font color=#000000>isVisible</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.389'></a>
390:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" teleports away!"</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.390'></a>
391:           <font color=#000000>}</font>  <a name='line.391'></a>
392:           caster<font color=#FF0000>.</font><b><font color=#000000>moveTo</font></b><font color=#FF0000>(</font>map<font color=#FF0000>,</font>p<font color=#FF0000>.</font>x<font color=#FF0000>,</font>p<font color=#FF0000>.</font>y<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.392'></a>
393:         <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.393'></a>
394:         <font color=#000000>}</font><a name='line.394'></a>
395:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.395'></a>
396:       <font color=#000000>}</font><a name='line.396'></a>
397:       <a name='line.397'></a>
398:       <b><font color=#0000FF>case</font></b> RUNETRAP<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.398'></a>
399:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>=</font><font color=#FF0000>=</font>Game<font color=#FF0000>.</font>hero<font color=#FF0000>)</font> Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"You weave a cunning RuneTrap"</font><font color=#FF0000>)</font><font color=#FF0000>;</font>  <a name='line.399'></a>
400:         map<font color=#FF0000>.</font><b><font color=#000000>addThing</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>RuneTrap</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>Spell<font color=#FF0000>.</font>FIREBALL<font color=#FF0000>)</font><font color=#FF0000>,</font>caster<font color=#FF0000>.</font>x<font color=#FF0000>,</font>caster<font color=#FF0000>.</font>y<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.400'></a>
401:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font>        <a name='line.401'></a>
402:       <font color=#000000>}</font><a name='line.402'></a>
403:         <a name='line.403'></a>
404:       <b><font color=#0000FF>case</font></b> LAYRUNE<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.404'></a>
405:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>=</font><font color=#FF0000>=</font>Game<font color=#FF0000>.</font>hero<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.405'></a>
406:           SpellScreen ls<font color=#FF0000>=</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>SpellScreen</font></b><font color=#FF0000>(</font><font color=#808080>"Select spell to scribe in this location:"</font><font color=#FF0000>,</font>h<font color=#FF0000>.</font>arts<font color=#FF0000>.</font><b><font color=#000000>getArts</font></b><font color=#FF0000>(</font>Spell<font color=#FF0000>.</font><b><font color=#0000FF>class</font></b><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font>           Screen old<font color=#FF0000>=</font>Game<font color=#FF0000>.</font>questapp<font color=#FF0000>.</font>screen<font color=#FF0000>;</font><a name='line.406'></a>
407:           Game<font color=#FF0000>.</font>questapp<font color=#FF0000>.</font><b><font color=#000000>switchScreen</font></b><font color=#FF0000>(</font>ls<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.407'></a>
408:           Spell s<font color=#FF0000>=</font>ls<font color=#FF0000>.</font><b><font color=#000000>getSpell</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.408'></a>
409:           Game<font color=#FF0000>.</font>questapp<font color=#FF0000>.</font><b><font color=#000000>switchScreen</font></b><font color=#FF0000>(</font>old<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.409'></a>
410:           <a name='line.410'></a>
411:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>s<font color=#FF0000>!</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.411'></a>
412:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"You carefully scribe the runes of "</font><font color=#FF0000>+</font>s<font color=#FF0000>.</font><b><font color=#000000>getName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font>  <a name='line.412'></a>
413:             map<font color=#FF0000>.</font><b><font color=#000000>addThing</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>RuneTrap</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>s<font color=#FF0000>.</font>type<font color=#FF0000>)</font><font color=#FF0000>,</font>caster<font color=#FF0000>.</font>x<font color=#FF0000>,</font>caster<font color=#FF0000>.</font>y<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.413'></a>
414:           <font color=#000000>}</font><a name='line.414'></a>
415:         <font color=#000000>}</font><a name='line.415'></a>
416:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font>        <a name='line.416'></a>
417:       <font color=#000000>}</font><a name='line.417'></a>
418: <a name='line.418'></a>
419:       <b><font color=#0000FF>case</font></b> BECOMEETHEREAL<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.419'></a>
420:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>=</font><font color=#FF0000>=</font>Game<font color=#FF0000>.</font>hero<font color=#FF0000>)</font> Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"You feel a sudden sense of lightness"</font><font color=#FF0000>)</font><font color=#FF0000>;</font>  <a name='line.420'></a>
421:         caster<font color=#FF0000>.</font><b><font color=#000000>addAttribute</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>TemporaryAttribute</font></b><font color=#FF0000>(</font><font color=#808080>"Ethereal"</font><font color=#FF0000>,</font>durations<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>,</font>RPG<font color=#FF0000>.</font>ST_ETHEREAL<font color=#FF0000>,</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.421'></a>
422:       <font color=#000000>}</font><a name='line.422'></a>
423:       <a name='line.423'></a>
424:       <b><font color=#0000FF>case</font></b> TRUEVIEW<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.424'></a>
425:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>=</font><font color=#FF0000>=</font>Game<font color=#FF0000>.</font>hero<font color=#FF0000>)</font> Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"Your vision sharpens dramatically"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.425'></a>
426:         caster<font color=#FF0000>.</font><b><font color=#000000>addAttribute</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>TemporaryAttribute</font></b><font color=#FF0000>(</font><font color=#808080>"Trueview"</font><font color=#FF0000>,</font>durations<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>,</font>RPG<font color=#FF0000>.</font>ST_TRUEVIEW<font color=#FF0000>,</font><b><font color=#000000>getStrength</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.426'></a>
427:       <font color=#000000>}</font><a name='line.427'></a>
428:         <a name='line.428'></a>
429:       <b><font color=#0000FF>default</font></b><font color=#FF0000>:</font><a name='line.429'></a>
430:         <a name='line.430'></a>
431:     <font color=#000000>}</font><a name='line.431'></a>
432:   <font color=#000000>}</font><a name='line.432'></a>
433:     <a name='line.433'></a>
434:     <b><font color=#0000FF>public</font></b> <font color=#0000FF>void</font> <b><font color=#000000>castAtLocation</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>,</font> Map map<font color=#FF0000>,</font> <font color=#0000FF>int</font> tx<font color=#FF0000>,</font> <font color=#0000FF>int</font> ty<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.434'></a>
435:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><b><font color=#000000>getTarget</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>!</font><font color=#FF0000>=</font>TARGET_LOCATION<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.435'></a>
436:       <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font> <a name='line.436'></a>
437:     <font color=#000000>}</font><a name='line.437'></a>
438: <a name='line.438'></a>
439:       <b><font color=#009900>// special effects for location targetted spells</font></b><a name='line.439'></a>
440:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>map<font color=#FF0000>.</font><b><font color=#000000>isVisible</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.440'></a>
441:       <b><font color=#009900>// spell projectile</font></b><a name='line.441'></a>
442:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>!</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.442'></a>
443:         Game<font color=#FF0000>.</font>mappanel<font color=#FF0000>.</font><b><font color=#000000>doShot</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>.</font>x<font color=#FF0000>,</font>caster<font color=#FF0000>.</font>y<font color=#FF0000>,</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>,</font>bolts<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>,</font><font color=#9A1900>0.5</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.443'></a>
444:       <font color=#000000>}</font><a name='line.444'></a>
445:       <a name='line.445'></a>
446:       <b><font color=#009900>// explosion</font></b><a name='line.446'></a>
447:       <b><font color=#0000FF>switch</font></b> <font color=#FF0000>(</font>type<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.447'></a>
448:         <b><font color=#0000FF>case</font></b> FIREBALL<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> BLAST<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> BLAZE<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> FLAMECLOUD<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> FIREPATH<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> WEB<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> DEVASTATE<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> POISONCLOUD<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> ACIDBLAST<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.448'></a>
449:           <font color=#0000FF>int</font> rr<font color=#FF0000>=</font><font color=#FF0000>(</font><font color=#0000FF>int</font><font color=#FF0000>)</font>Math<font color=#FF0000>.</font><b><font color=#000000>sqrt</font></b><font color=#FF0000>(</font>radii<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>;</font>    <a name='line.449'></a>
450:           Game<font color=#FF0000>.</font>mappanel<font color=#FF0000>.</font><b><font color=#000000>doExplosion</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>,</font>bolts<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>/</font><font color=#9A1900>20</font><font color=#FF0000>,</font>rr<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.450'></a>
451:           <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.451'></a>
452:         <font color=#000000>}</font><a name='line.452'></a>
453:         <a name='line.453'></a>
454:         <b><font color=#0000FF>default</font></b><font color=#FF0000>:</font> Game<font color=#FF0000>.</font>mappanel<font color=#FF0000>.</font><b><font color=#000000>doSpark</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>,</font>bolts<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>/</font><font color=#9A1900>20</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.454'></a>
455: <a name='line.455'></a>
456:       <font color=#000000>}</font><a name='line.456'></a>
457:     <font color=#000000>}</font><a name='line.457'></a>
458:     <a name='line.458'></a>
459:     <b><font color=#009900>// en route effects</font></b><a name='line.459'></a>
460:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>!</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.460'></a>
461:       <font color=#0000FF>double</font> sx<font color=#FF0000>=</font>caster<font color=#FF0000>.</font>x<font color=#FF0000>+</font><font color=#9A1900>0.5</font><font color=#FF0000>;</font> <font color=#0000FF>double</font> sy<font color=#FF0000>=</font>caster<font color=#FF0000>.</font>y<font color=#FF0000>+</font><font color=#9A1900>0.5</font><font color=#FF0000>;</font><a name='line.461'></a>
462:       <font color=#0000FF>int</font> px<font color=#FF0000>=</font>caster<font color=#FF0000>.</font>x<font color=#FF0000>;</font> <font color=#0000FF>int</font> py<font color=#FF0000>=</font>caster<font color=#FF0000>.</font>y<font color=#FF0000>;</font><a name='line.462'></a>
463:       <font color=#0000FF>double</font> d<font color=#FF0000>=</font>Math<font color=#FF0000>.</font><b><font color=#000000>sqrt</font></b><font color=#FF0000>(</font><font color=#FF0000>(</font>px<font color=#FF0000>-</font>tx<font color=#FF0000>)</font><font color=#FF0000>*</font><font color=#FF0000>(</font>px<font color=#FF0000>-</font>tx<font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#FF0000>(</font>py<font color=#FF0000>-</font>ty<font color=#FF0000>)</font><font color=#FF0000>*</font><font color=#FF0000>(</font>py<font color=#FF0000>-</font>ty<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.463'></a>
464:       <b><font color=#0000FF>while</font></b><font color=#FF0000>(</font><font color=#FF0000>(</font>px<font color=#FF0000>!</font><font color=#FF0000>=</font>tx<font color=#FF0000>)</font><font color=#FF0000>|</font><font color=#FF0000>|</font><font color=#FF0000>(</font>py<font color=#FF0000>!</font><font color=#FF0000>=</font>ty<font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.464'></a>
465:         <b><font color=#0000FF>while</font></b><font color=#FF0000>(</font><font color=#FF0000>(</font>px<font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#FF0000>(</font><font color=#0000FF>int</font><font color=#FF0000>)</font>sx<font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font>py<font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#FF0000>(</font><font color=#0000FF>int</font><font color=#FF0000>)</font>sy<font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.465'></a>
466:           sx<font color=#FF0000>+</font><font color=#FF0000>=</font><font color=#9A1900>0.5</font><font color=#FF0000>*</font><font color=#FF0000>(</font>tx<font color=#FF0000>-</font>caster<font color=#FF0000>.</font>x<font color=#FF0000>)</font><font color=#FF0000>/</font>d<font color=#FF0000>;</font><a name='line.466'></a>
467:           sy<font color=#FF0000>+</font><font color=#FF0000>=</font><font color=#9A1900>0.5</font><font color=#FF0000>*</font><font color=#FF0000>(</font>ty<font color=#FF0000>-</font>caster<font color=#FF0000>.</font>y<font color=#FF0000>)</font><font color=#FF0000>/</font>d<font color=#FF0000>;</font> <a name='line.467'></a>
468:         <font color=#000000>}</font><a name='line.468'></a>
469:         px<font color=#FF0000>=</font><font color=#FF0000>(</font><font color=#0000FF>int</font><font color=#FF0000>)</font>sx<font color=#FF0000>;</font><a name='line.469'></a>
470:         py<font color=#FF0000>=</font><font color=#FF0000>(</font><font color=#0000FF>int</font><font color=#FF0000>)</font>sy<font color=#FF0000>;</font><a name='line.470'></a>
471:         <b><font color=#0000FF>switch</font></b> <font color=#FF0000>(</font>type<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.471'></a>
472:           <b><font color=#0000FF>case</font></b> FIREPATH<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.472'></a>
473:             Fire<font color=#FF0000>.</font><b><font color=#000000>createFire</font></b><font color=#FF0000>(</font>map<font color=#FF0000>,</font>px<font color=#FF0000>,</font>py<font color=#FF0000>,</font><b><font color=#000000>getStrength</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.473'></a>
474:           <font color=#000000>}</font>  <a name='line.474'></a>
475:         <font color=#000000>}</font><a name='line.475'></a>
476:       <font color=#000000>}</font> <a name='line.476'></a>
477:     <font color=#000000>}</font><a name='line.477'></a>
478:         <a name='line.478'></a>
479:     <b><font color=#009900>// ball spell damage effects</font></b><a name='line.479'></a>
480:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>radii<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>&gt;</font><font color=#9A1900>0</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.480'></a>
481:       <b><font color=#000000>affectArea</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>map<font color=#FF0000>,</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>,</font>radii<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.481'></a>
482:       <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font> <a name='line.482'></a>
483:     <font color=#000000>}</font><a name='line.483'></a>
484:     <a name='line.484'></a>
485:     <b><font color=#000000>affectLocation</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>map<font color=#FF0000>,</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.485'></a>
486:   <font color=#000000>}</font><a name='line.486'></a>
487: <a name='line.487'></a>
488:     <b><font color=#0000FF>public</font></b> <font color=#0000FF>void</font> <b><font color=#000000>castAtObject</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>,</font> Thing target<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.488'></a>
489:       Hero h<font color=#FF0000>=</font>Game<font color=#FF0000>.</font>hero<font color=#FF0000>;</font><a name='line.489'></a>
490:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>!</font><font color=#FF0000>=</font>h<font color=#FF0000>)</font> <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.490'></a>
491:     <a name='line.491'></a>
492:     <b><font color=#0000FF>switch</font></b> <font color=#FF0000>(</font>type<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.492'></a>
493:       <b><font color=#0000FF>case</font></b> IDENTIFY<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.493'></a>
494:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>target <b><font color=#0000FF>instanceof</font></b> Item<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.494'></a>
495:           Item i<font color=#FF0000>=</font><font color=#FF0000>(</font>Item<font color=#FF0000>)</font>target<font color=#FF0000>;</font><a name='line.495'></a>
496:       <a name='line.496'></a>
497:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>i<font color=#FF0000>.</font><b><font color=#000000>identify</font></b><font color=#FF0000>(</font>level<font color=#FF0000>+</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><font color=#9A1900>20</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.497'></a>
498:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"You identify: "</font><font color=#FF0000>+</font>i<font color=#FF0000>.</font><b><font color=#000000>getFullName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.498'></a>
499:           <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.499'></a>
500:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"You are unable to identify "</font><font color=#FF0000>+</font>i<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.500'></a>
501:           <font color=#000000>}</font>      <a name='line.501'></a>
502:         <font color=#000000>}</font><a name='line.502'></a>
503:         <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.503'></a>
504:       <font color=#000000>}</font>  <a name='line.504'></a>
505:         <a name='line.505'></a>
506:       <b><font color=#0000FF>case</font></b> RECHARGE<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.506'></a>
507:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>target <b><font color=#0000FF>instanceof</font></b> Wand<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.507'></a>
508:           Wand w<font color=#FF0000>=</font><font color=#FF0000>(</font>Wand<font color=#FF0000>)</font>target<font color=#FF0000>;</font><a name='line.508'></a>
509:           w<font color=#FF0000>.</font><b><font color=#000000>recharge</font></b><font color=#FF0000>(</font>cost<font color=#FF0000>/</font><font color=#9A1900>7</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.509'></a>
510:           <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.510'></a>
511:         <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.511'></a>
512:           Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"Your attempt to recharge "</font><font color=#FF0000>+</font>target<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" does not seem to work"</font><font color=#FF0000>)</font><font color=#FF0000>;</font>  <a name='line.512'></a>
513:         <font color=#000000>}</font><a name='line.513'></a>
514:         <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.514'></a>
515:       <font color=#000000>}</font>  <a name='line.515'></a>
516:       <a name='line.516'></a>
517:       <b><font color=#0000FF>case</font></b> BLESS<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.517'></a>
518:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>target <b><font color=#0000FF>instanceof</font></b> Item<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.518'></a>
519:           Item i<font color=#FF0000>=</font><font color=#FF0000>(</font>Item<font color=#FF0000>)</font>target<font color=#FF0000>;</font><a name='line.519'></a>
520:           i<font color=#FF0000>.</font><b><font color=#000000>setBlessed</font></b><font color=#FF0000>(</font>true<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.520'></a>
521:           Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font>target<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" gives a brief golden glow"</font><font color=#FF0000>)</font><font color=#FF0000>;</font>  <a name='line.521'></a>
522:           <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.522'></a>
523:         <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.523'></a>
524:           Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"Your attempt to bless "</font><font color=#FF0000>+</font>target<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" fails"</font><font color=#FF0000>)</font><font color=#FF0000>;</font>  <a name='line.524'></a>
525:         <font color=#000000>}</font><a name='line.525'></a>
526:         <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.526'></a>
527:       <font color=#000000>}</font>  <a name='line.527'></a>
528:       <a name='line.528'></a>
529:       <b><font color=#0000FF>case</font></b> REPAIR<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.529'></a>
530:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>target <b><font color=#0000FF>instanceof</font></b> Item<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.530'></a>
531:           Item i<font color=#FF0000>=</font><font color=#FF0000>(</font>Item<font color=#FF0000>)</font> target<font color=#FF0000>;</font><a name='line.531'></a>
532:           <font color=#0000FF>int</font> q<font color=#FF0000>=</font>i<font color=#FF0000>.</font><b><font color=#000000>getQuality</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.532'></a>
533:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>q<font color=#FF0000>&gt;</font><font color=#9A1900>0</font><font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font>q<font color=#FF0000>&lt;</font><font color=#9A1900>7</font><font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font>RPG<font color=#FF0000>.</font><b><font color=#000000>test</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_IN<font color=#FF0000>)</font><font color=#FF0000>*</font><font color=#FF0000>(</font><font color=#9A1900>7</font><font color=#FF0000>-</font>q<font color=#FF0000>)</font><font color=#FF0000>,</font>q<font color=#FF0000>*</font>q<font color=#FF0000>*</font>q<font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.533'></a>
534:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font>i<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" is briefly lit by a brilliant orange glow"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.534'></a>
535:             i<font color=#FF0000>.</font>quality<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>;</font><a name='line.535'></a>
536:           <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.536'></a>
537:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font>i<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" glows orange for a second"</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.537'></a>
538:           <font color=#000000>}</font> <a name='line.538'></a>
539:         <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.539'></a>
540:           Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"Spell failed"</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.540'></a>
541:         <font color=#000000>}</font> <a name='line.541'></a>
542:         <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.542'></a>
543:       <font color=#000000>}</font><a name='line.543'></a>
544:       <a name='line.544'></a>
545:       <b><font color=#0000FF>case</font></b> ENCHANT<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.545'></a>
546:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>target <b><font color=#0000FF>instanceof</font></b> Item<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.546'></a>
547:           Item i<font color=#FF0000>=</font><font color=#FF0000>(</font>Item<font color=#FF0000>)</font> target<font color=#FF0000>;</font><a name='line.547'></a>
548:           <font color=#0000FF>int</font> q<font color=#FF0000>=</font>i<font color=#FF0000>.</font><b><font color=#000000>getQuality</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.548'></a>
549:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>q<font color=#FF0000>&gt;</font><font color=#9A1900>0</font><font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font>q<font color=#FF0000>&lt;</font><font color=#9A1900>12</font><font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font>RPG<font color=#FF0000>.</font><b><font color=#000000>test</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_IN<font color=#FF0000>)</font><font color=#FF0000>*</font>level<font color=#FF0000>*</font>level<font color=#FF0000>*</font>level<font color=#FF0000>,</font>i<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_ITEMVALUE<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.549'></a>
550:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font>i<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" is lit by a brilliant white light"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.550'></a>
551:             i<font color=#FF0000>.</font>quality<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>;</font><a name='line.551'></a>
552:           <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.552'></a>
553:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font>i<font color=#FF0000>.</font><b><font color=#000000>getTheName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" lets off a few feeble sparks"</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.553'></a>
554:           <font color=#000000>}</font> <a name='line.554'></a>
555:         <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.555'></a>
556:           Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"Spell failed"</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.556'></a>
557:         <font color=#000000>}</font> <a name='line.557'></a>
558:         <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.558'></a>
559:       <font color=#000000>}</font><a name='line.559'></a>
560:       <a name='line.560'></a>
561:       <b><font color=#0000FF>case</font></b> REMOVECURSE<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.561'></a>
562:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>target <b><font color=#0000FF>instanceof</font></b> Item<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.562'></a>
563:           Item i<font color=#FF0000>=</font><font color=#FF0000>(</font>Item<font color=#FF0000>)</font>target<font color=#FF0000>;</font><a name='line.563'></a>
564:       <a name='line.564'></a>
565:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>i<font color=#FF0000>.</font>flags<font color=#FF0000>&amp;</font>Item<font color=#FF0000>.</font>ITEM_CURSED<font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.565'></a>
566:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"The spell fails - it appears there was no curse to remove"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.566'></a>
567:           <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.567'></a>
568:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"There is a shower of white sparks as the curse is lifted"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.568'></a>
569:             i<font color=#FF0000>.</font>flags<font color=#FF0000>&amp;</font><font color=#FF0000>=</font> <font color=#FF0000>~</font>Item<font color=#FF0000>.</font>ITEM_CURSED<font color=#FF0000>;</font><a name='line.569'></a>
570:           <font color=#000000>}</font>      <a name='line.570'></a>
571:         <font color=#000000>}</font><a name='line.571'></a>
572:         <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font><a name='line.572'></a>
573:       <font color=#000000>}</font>  <a name='line.573'></a>
574:     <font color=#000000>}</font><a name='line.574'></a>
575: <a name='line.575'></a>
576:     Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><b><font color=#000000>getName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" spell not working!"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.576'></a>
577:   <font color=#000000>}</font><a name='line.577'></a>
578: <a name='line.578'></a>
579:     <b><font color=#0000FF>public</font></b> <font color=#0000FF>void</font> <b><font color=#000000>castInDirection</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>,</font> <font color=#0000FF>int</font> dx<font color=#FF0000>,</font> <font color=#0000FF>int</font> dy<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.579'></a>
580:     <font color=#000000>}</font><a name='line.580'></a>
581:     <a name='line.581'></a>
582:   <b><font color=#009900>// apply spell affect over map area</font></b><a name='line.582'></a>
583:   <b><font color=#009900>// calls affectArea for each individual square</font></b><a name='line.583'></a>
584:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>void</font> <b><font color=#000000>affectArea</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>,</font> Map map<font color=#FF0000>,</font> <font color=#0000FF>int</font> tx<font color=#FF0000>,</font> <font color=#0000FF>int</font> ty<font color=#FF0000>,</font> <font color=#0000FF>int</font> r2<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.584'></a>
585:     <font color=#0000FF>int</font> d<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font><a name='line.585'></a>
586:     <b><font color=#0000FF>for</font></b> <font color=#FF0000>(</font>d<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font> d<font color=#FF0000>*</font>d<font color=#FF0000>&lt;</font><font color=#FF0000>=</font>r2<font color=#FF0000>;</font>d<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.586'></a>
587:     d<font color=#FF0000>=</font>d<font color=#FF0000>-</font><font color=#9A1900>1</font><font color=#FF0000>;</font><a name='line.587'></a>
588:     <b><font color=#0000FF>for</font></b> <font color=#FF0000>(</font><font color=#0000FF>int</font> dx<font color=#FF0000>=</font><font color=#FF0000>-</font>d<font color=#FF0000>;</font> dx<font color=#FF0000>&lt;</font><font color=#FF0000>=</font>d<font color=#FF0000>;</font> dx<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>)</font> <b><font color=#0000FF>for</font></b> <font color=#FF0000>(</font><font color=#0000FF>int</font> dy<font color=#FF0000>=</font><font color=#FF0000>-</font>d<font color=#FF0000>;</font> dy<font color=#FF0000>&lt;</font><font color=#FF0000>=</font>d<font color=#FF0000>;</font> dy<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.588'></a>
589:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font><font color=#FF0000>(</font>dx<font color=#FF0000>*</font>dx<font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#FF0000>(</font>dy<font color=#FF0000>*</font>dy<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>&lt;</font><font color=#FF0000>=</font>r2<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.589'></a>
590:         <b><font color=#000000>affectLocation</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>map<font color=#FF0000>,</font>tx<font color=#FF0000>+</font>dx<font color=#FF0000>,</font>ty<font color=#FF0000>+</font>dy<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.590'></a>
591:       <font color=#000000>}</font><a name='line.591'></a>
592:     <font color=#000000>}</font><a name='line.592'></a>
593:   <font color=#000000>}</font><a name='line.593'></a>
594:   <a name='line.594'></a>
595:   <b><font color=#009900>// return true if being is able to learn this art</font></b><a name='line.595'></a>
596:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>boolean</font> <b><font color=#000000>canLearn</font></b><font color=#FF0000>(</font>Being b<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.596'></a>
597:     <b><font color=#0000FF>return</font></b> RPG<font color=#FF0000>.</font><b><font color=#000000>test</font></b><font color=#FF0000>(</font>b<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_LEVEL<font color=#FF0000>)</font><font color=#FF0000>,</font>levels<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.597'></a>
598:   <font color=#000000>}</font><a name='line.598'></a>
599: <a name='line.599'></a>
600:   <a name='line.600'></a>
601:   <b><font color=#009900>// apply spell affect to individual square</font></b><a name='line.601'></a>
602:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>void</font> <b><font color=#000000>affectLocation</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>,</font> Map map<font color=#FF0000>,</font> <font color=#0000FF>int</font> tx<font color=#FF0000>,</font> <font color=#0000FF>int</font> ty<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.602'></a>
603: <a name='line.603'></a>
604:     <b><font color=#0000FF>switch</font></b><font color=#FF0000>(</font>type<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.604'></a>
605:       <b><font color=#009900>// Webbing spells  </font></b><a name='line.605'></a>
606:       <b><font color=#0000FF>case</font></b> WEB<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.606'></a>
607:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><font color=#9A1900>2</font><font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font><font color=#FF0000>(</font>map<font color=#FF0000>.</font><b><font color=#000000>getTile</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>&amp;</font>Tile<font color=#FF0000>.</font>TF_BLOCKED<font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.607'></a>
608:           map<font color=#FF0000>.</font><b><font color=#000000>addThing</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>Web</font></b><font color=#FF0000>(</font><font color=#9A1900>30</font><font color=#FF0000>)</font><font color=#FF0000>,</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.608'></a>
609:         <font color=#000000>}</font><a name='line.609'></a>
610:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.610'></a>
611:       <font color=#000000>}</font><a name='line.611'></a>
612:       <a name='line.612'></a>
613:       <b><font color=#009900>// standard creature summoning</font></b><a name='line.613'></a>
614:       <b><font color=#0000FF>case</font></b> SUMMON<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.614'></a>
615:         Creature c<font color=#FF0000>=</font>Lib<font color=#FF0000>.</font><b><font color=#000000>createMonster</font></b><font color=#FF0000>(</font>level<font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.615'></a>
616:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>caster<font color=#FF0000>!</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> c<font color=#FF0000>.</font><b><font color=#000000>makeFollower</font></b><font color=#FF0000>(</font><font color=#FF0000>(</font>Being<font color=#FF0000>)</font>caster<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.616'></a>
617:         c<font color=#FF0000>.</font><b><font color=#000000>setStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_REGENERATE<font color=#FF0000>,</font><font color=#9A1900>0</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.617'></a>
618:         map<font color=#FF0000>.</font><b><font color=#000000>addThing</font></b><font color=#FF0000>(</font>c<font color=#FF0000>,</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.618'></a>
619:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.619'></a>
620:       <font color=#000000>}</font> <a name='line.620'></a>
621:       <a name='line.621'></a>
622:       <b><font color=#009900>// infestation summoning</font></b><a name='line.622'></a>
623:       <b><font color=#0000FF>case</font></b> INFESTATION<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.623'></a>
624:         Creature c<font color=#FF0000>=</font>Lib<font color=#FF0000>.</font><b><font color=#000000>createMonster</font></b><font color=#FF0000>(</font>level<font color=#FF0000>-</font><font color=#9A1900>3</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.624'></a>
625:         c<font color=#FF0000>.</font><b><font color=#000000>setStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_SIDE<font color=#FF0000>,</font>caster<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_SIDE<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.625'></a>
626:         c<font color=#FF0000>.</font><b><font color=#000000>setStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_STATE<font color=#FF0000>,</font>AI<font color=#FF0000>.</font>STATE_HOSTILE<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.626'></a>
627:         c<font color=#FF0000>.</font><b><font color=#000000>setStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_REGENERATE<font color=#FF0000>,</font><font color=#9A1900>0</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.627'></a>
628:         <b><font color=#0000FF>for</font></b> <font color=#FF0000>(</font><font color=#0000FF>int</font> i<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font> i<font color=#FF0000>&lt;</font><font color=#9A1900>10</font><font color=#FF0000>;</font> i<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.628'></a>
629:           <font color=#0000FF>int</font> px<font color=#FF0000>=</font>tx<font color=#FF0000>+</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><font color=#9A1900>5</font><font color=#FF0000>)</font><font color=#FF0000>-</font><font color=#9A1900>2</font><font color=#FF0000>;</font> <font color=#0000FF>int</font> py<font color=#FF0000>=</font>ty<font color=#FF0000>+</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><font color=#9A1900>5</font><font color=#FF0000>)</font><font color=#FF0000>-</font><font color=#9A1900>2</font><font color=#FF0000>;</font><a name='line.629'></a>
630:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>!</font>map<font color=#FF0000>.</font><b><font color=#000000>isBlocked</font></b><font color=#FF0000>(</font>px<font color=#FF0000>,</font>py<font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.630'></a>
631:             map<font color=#FF0000>.</font><b><font color=#000000>addThing</font></b><font color=#FF0000>(</font><font color=#FF0000>(</font>Thing<font color=#FF0000>)</font>c<font color=#FF0000>.</font><b><font color=#000000>clone</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>,</font>px<font color=#FF0000>,</font>py<font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.631'></a>
632:           <font color=#000000>}</font> <a name='line.632'></a>
633:         <font color=#000000>}</font> <a name='line.633'></a>
634:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font>         <a name='line.634'></a>
635:       <font color=#000000>}</font><a name='line.635'></a>
636: <a name='line.636'></a>
637:       <b><font color=#009900>// broomstick summoning</font></b><a name='line.637'></a>
638:       <b><font color=#0000FF>case</font></b> BROOMSTICK<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.638'></a>
639:         Creature c<font color=#FF0000>=</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>Creature</font></b><font color=#FF0000>(</font>Creature<font color=#FF0000>.</font>BROOMSTICK<font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.639'></a>
640:         c<font color=#FF0000>.</font><b><font color=#000000>setStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_REGENERATE<font color=#FF0000>,</font><font color=#9A1900>0</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.640'></a>
641:         map<font color=#FF0000>.</font><b><font color=#000000>addThing</font></b><font color=#FF0000>(</font>c<font color=#FF0000>,</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.641'></a>
642:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.642'></a>
643:       <font color=#000000>}</font> <a name='line.643'></a>
644: <a name='line.644'></a>
645:       <b><font color=#009900>// tunneling</font></b><a name='line.645'></a>
646:       <b><font color=#0000FF>case</font></b> TUNNEL<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.646'></a>
647:         map<font color=#FF0000>.</font><b><font color=#000000>setTile</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>,</font>map<font color=#FF0000>.</font>floortile<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.647'></a>
648:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font> <a name='line.648'></a>
649:       <font color=#000000>}</font><a name='line.649'></a>
650:       <a name='line.650'></a>
651:       <b><font color=#009900>// not a location affect spell, so we affect individual items</font></b><a name='line.651'></a>
652:       <b><font color=#0000FF>default</font></b><font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.652'></a>
653:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>radii<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>&gt;</font><font color=#9A1900>0</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.653'></a>
654:           <b><font color=#009900>// affect everything in the square</font></b><a name='line.654'></a>
655:           Thing<font color=#FF0000>[</font><font color=#FF0000>]</font> stuff<font color=#FF0000>=</font>map<font color=#FF0000>.</font><b><font color=#000000>getThings</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.655'></a>
656:           <b><font color=#0000FF>for</font></b> <font color=#FF0000>(</font><font color=#0000FF>int</font> i<font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>;</font> i<font color=#FF0000>&lt;</font>stuff<font color=#FF0000>.</font>length<font color=#FF0000>;</font> i<font color=#FF0000>+</font><font color=#FF0000>+</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.656'></a>
657:             Thing t<font color=#FF0000>=</font>stuff<font color=#FF0000>[</font>i<font color=#FF0000>]</font><font color=#FF0000>;</font><a name='line.657'></a>
658:             <b><font color=#000000>affectThing</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>t<font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.658'></a>
659:           <font color=#000000>}</font><a name='line.659'></a>
660:         <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.660'></a>
661:           <b><font color=#009900>// affect the primary targey only</font></b><a name='line.661'></a>
662:           Thing t<font color=#FF0000>=</font>map<font color=#FF0000>.</font><b><font color=#000000>getMobile</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>;</font>  <a name='line.662'></a>
663:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>t<font color=#FF0000>=</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> t<font color=#FF0000>=</font>map<font color=#FF0000>.</font><b><font color=#000000>getObjects</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>;</font>  <a name='line.663'></a>
664:           <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>t<font color=#FF0000>!</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.664'></a>
665:             <b><font color=#000000>affectThing</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>,</font>t<font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.665'></a>
666:           <font color=#000000>}</font><a name='line.666'></a>
667:         <font color=#000000>}</font> <a name='line.667'></a>
668:       <font color=#000000>}</font>  <a name='line.668'></a>
669:     <font color=#000000>}</font> <a name='line.669'></a>
670:     <a name='line.670'></a>
671:     <b><font color=#009900>// secondary effects</font></b><a name='line.671'></a>
672:     <b><font color=#0000FF>switch</font></b> <font color=#FF0000>(</font>type<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.672'></a>
673:       <b><font color=#009900>// flame filling spells</font></b><a name='line.673'></a>
674:       <b><font color=#0000FF>case</font></b> FLAME<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> FLAMECLOUD<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> BLAZE<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> FIREPATH<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.674'></a>
675:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>(</font><font color=#FF0000>(</font>type<font color=#FF0000>=</font><font color=#FF0000>=</font>FLAME<font color=#FF0000>)</font><font color=#FF0000>|</font><font color=#FF0000>|</font><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><font color=#9A1900>2</font><font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#9A1900>1</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>&amp;</font><font color=#FF0000>&amp;</font><font color=#FF0000>(</font><font color=#FF0000>(</font>map<font color=#FF0000>.</font><b><font color=#000000>getTile</font></b><font color=#FF0000>(</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>)</font><font color=#FF0000>&amp;</font>Tile<font color=#FF0000>.</font>TF_BLOCKED<font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font><font color=#9A1900>0</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.675'></a>
676:           Fire<font color=#FF0000>.</font><b><font color=#000000>createFire</font></b><font color=#FF0000>(</font>map<font color=#FF0000>,</font>tx<font color=#FF0000>,</font>ty<font color=#FF0000>,</font><b><font color=#000000>getStrength</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.676'></a>
677:         <font color=#000000>}</font><a name='line.677'></a>
678:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.678'></a>
679:       <font color=#000000>}</font><a name='line.679'></a>
680:     <font color=#000000>}</font><a name='line.680'></a>
681:   <font color=#000000>}</font><a name='line.681'></a>
682:   <a name='line.682'></a>
683:   <b><font color=#0000FF>public</font></b> <font color=#0000FF>void</font> <b><font color=#000000>affectThing</font></b><font color=#FF0000>(</font>Thing caster<font color=#FF0000>,</font> Thing t<font color=#FF0000>)</font> <font color=#000000>{</font>  <a name='line.683'></a>
684:     Hero h<font color=#FF0000>=</font>Game<font color=#FF0000>.</font>hero<font color=#FF0000>;</font><a name='line.684'></a>
685: <a name='line.685'></a>
686:     <b><font color=#009900>// special tretment for offensive spells</font></b><a name='line.686'></a>
687:     <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><b><font color=#000000>getUsage</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>=</font><font color=#FF0000>=</font>SPELL_OFFENCE<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.687'></a>
688:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>t <b><font color=#0000FF>instanceof</font></b> Mobile<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.688'></a>
689:         Mobile mob<font color=#FF0000>=</font><font color=#FF0000>(</font>Mobile<font color=#FF0000>)</font>t<font color=#FF0000>;</font><a name='line.689'></a>
690:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>mob<font color=#FF0000>!</font><font color=#FF0000>=</font><b><font color=#0000FF>null</font></b><font color=#FF0000>)</font> mob<font color=#FF0000>.</font><b><font color=#000000>notify</font></b><font color=#FF0000>(</font>AI<font color=#FF0000>.</font>EVENT_ATTACKED<font color=#FF0000>,</font>mob<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_SIDE<font color=#FF0000>)</font><font color=#FF0000>,</font>caster<font color=#FF0000>)</font><font color=#FF0000>;</font>       <a name='line.690'></a>
691:       <font color=#000000>}</font><a name='line.691'></a>
692:       <a name='line.692'></a>
693:       <b><font color=#009900>// magic save</font></b><a name='line.693'></a>
694:       <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>test</font></b><font color=#FF0000>(</font>t<font color=#FF0000>.</font><b><font color=#000000>getStat</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font>ST_ANTIMAGIC<font color=#FF0000>)</font><font color=#FF0000>,</font><b><font color=#000000>getPower</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.694'></a>
695:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>t<font color=#FF0000>=</font><font color=#FF0000>=</font>h<font color=#FF0000>)</font> Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"You resist the "</font><font color=#FF0000>+</font><b><font color=#000000>getName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" spell"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.695'></a>
696:         <b><font color=#0000FF>return</font></b><font color=#FF0000>;</font> <a name='line.696'></a>
697:       <font color=#000000>}</font> <b><font color=#0000FF>else</font></b> <font color=#000000>{</font><a name='line.697'></a>
698:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>t<font color=#FF0000>=</font><font color=#FF0000>=</font>h<font color=#FF0000>)</font> Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"You are hit by the "</font><font color=#FF0000>+</font><b><font color=#000000>getName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" spell"</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.698'></a>
699:       <font color=#000000>}</font><a name='line.699'></a>
700:     <font color=#000000>}</font> <a name='line.700'></a>
701: <a name='line.701'></a>
702:     <b><font color=#0000FF>switch</font></b> <font color=#FF0000>(</font>type<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.702'></a>
703:       <b><font color=#009900>// poison effect spells</font></b><a name='line.703'></a>
704:       <b><font color=#0000FF>case</font></b> POISON<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> POISONCLOUD<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.704'></a>
705:        <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font>t <b><font color=#0000FF>instanceof</font></b> Mobile<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.705'></a>
706:           t<font color=#FF0000>.</font><b><font color=#000000>addThing</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>PoisonAttribute</font></b><font color=#FF0000>(</font><b><font color=#000000>getStrength</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>,</font>damages<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>,</font>durations<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>,</font>level<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.706'></a>
707:         <font color=#000000>}</font><a name='line.707'></a>
708:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.708'></a>
709:       <font color=#000000>}</font><a name='line.709'></a>
710:        <a name='line.710'></a>
711:       <a name='line.711'></a>
712:       <b><font color=#009900>// single hit missile spells</font></b><a name='line.712'></a>
713:       <b><font color=#0000FF>case</font></b> MISSILE<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> DRAIN<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> FIREDART<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> POISONBOLT<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> SPARK<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> THUNDERBOLT<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> ACIDBOLT<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> VAPOURIZER<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> ICEBOLT<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.713'></a>
714:         t<font color=#FF0000>.</font><b><font color=#000000>damageLocation</font></b><font color=#FF0000>(</font><b><font color=#000000>getStrength</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>,</font>damages<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <a name='line.714'></a>
715:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font> <a name='line.715'></a>
716:       <font color=#000000>}</font><a name='line.716'></a>
717:         <a name='line.717'></a>
718:       <b><font color=#009900>// damage spells</font></b><a name='line.718'></a>
719:       <b><font color=#0000FF>case</font></b> FIREPATH<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> BLAST<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> FORCEBOLT<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> FIREBALL<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> BLAZE<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> ICEBLAST<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> ACIDBLAST<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> DEVASTATE<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> SUICIDE<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.719'></a>
720:         t<font color=#FF0000>.</font><b><font color=#000000>damage</font></b><font color=#FF0000>(</font>RPG<font color=#FF0000>.</font><b><font color=#000000>a</font></b><font color=#FF0000>(</font><b><font color=#000000>getStrength</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>,</font>damages<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.720'></a>
721:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.721'></a>
722:       <font color=#000000>}</font>  <a name='line.722'></a>
723:       <a name='line.723'></a>
724:       <b><font color=#009900>// standard attribute alteration spells</font></b><a name='line.724'></a>
725:       <b><font color=#0000FF>case</font></b> HASTE<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> SLOW<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> ARMOUR<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> CONFUSE<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.725'></a>
726:         <b><font color=#0000FF>if</font></b> <font color=#FF0000>(</font><font color=#FF0000>!</font><font color=#FF0000>(</font>t <b><font color=#0000FF>instanceof</font></b> Being<font color=#FF0000>)</font><font color=#FF0000>)</font> <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.726'></a>
727:         <a name='line.727'></a>
728:         Being b<font color=#FF0000>=</font><font color=#FF0000>(</font>Being<font color=#FF0000>)</font>t<font color=#FF0000>;</font><a name='line.728'></a>
729:         <b><font color=#0000FF>switch</font></b> <font color=#FF0000>(</font>type<font color=#FF0000>)</font> <font color=#000000>{</font><a name='line.729'></a>
730:           <b><font color=#0000FF>case</font></b> HASTE<font color=#FF0000>:</font> b<font color=#FF0000>.</font><b><font color=#000000>addAttribute</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>TemporaryAttribute</font></b><font color=#FF0000>(</font><font color=#808080>"Hasted"</font><font color=#FF0000>,</font>durations<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>,</font>RPG<font color=#FF0000>.</font>ST_MOVESPEED<font color=#FF0000>,</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><font color=#9A1900>2</font><font color=#FF0000>,</font><font color=#9A1900>40</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.730'></a>
731:           <b><font color=#0000FF>case</font></b> SLOW<font color=#FF0000>:</font> b<font color=#FF0000>.</font><b><font color=#000000>addAttribute</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>TemporaryAttribute</font></b><font color=#FF0000>(</font><font color=#808080>"Slowed"</font><font color=#FF0000>,</font>durations<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>,</font>RPG<font color=#FF0000>.</font>ST_MOVECOST<font color=#FF0000>,</font>RPG<font color=#FF0000>.</font><b><font color=#000000>d</font></b><font color=#FF0000>(</font><font color=#9A1900>2</font><font color=#FF0000>,</font><font color=#9A1900>40</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.731'></a>
732:           <b><font color=#0000FF>case</font></b> ARMOUR<font color=#FF0000>:</font> b<font color=#FF0000>.</font><b><font color=#000000>addAttribute</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>TemporaryAttribute</font></b><font color=#FF0000>(</font><font color=#808080>"Magic Armour"</font><font color=#FF0000>,</font>durations<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>,</font>RPG<font color=#FF0000>.</font>ST_PROTECTION<font color=#FF0000>,</font><b><font color=#000000>getStrength</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.732'></a>
733:           <b><font color=#0000FF>case</font></b> CONFUSE<font color=#FF0000>:</font> <font color=#000000>{</font><a name='line.733'></a>
734:             Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><font color=#808080>"Confused "</font><font color=#FF0000>+</font>b<font color=#FF0000>.</font><b><font color=#000000>getName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.734'></a>
735:             b<font color=#FF0000>.</font><b><font color=#000000>addAttribute</font></b><font color=#FF0000>(</font><b><font color=#0000FF>new</font></b> <b><font color=#000000>TemporaryAttribute</font></b><font color=#FF0000>(</font><font color=#808080>"Confused"</font><font color=#FF0000>,</font>durations<font color=#FF0000>[</font>type<font color=#FF0000>]</font><font color=#FF0000>,</font>RPG<font color=#FF0000>.</font>ST_CONFUSED<font color=#FF0000>,</font><b><font color=#000000>getPower</font></b><font color=#FF0000>(</font>caster<font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>)</font><font color=#FF0000>;</font> <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.735'></a>
736:           <font color=#000000>}</font><a name='line.736'></a>
737:         <font color=#000000>}</font><a name='line.737'></a>
738:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.738'></a>
739:       <font color=#000000>}</font><a name='line.739'></a>
740:       <a name='line.740'></a>
741:         <a name='line.741'></a>
742: <a name='line.742'></a>
743:       <b><font color=#009900>// pass-through</font></b><a name='line.743'></a>
744:       <b><font color=#0000FF>case</font></b> FLAMECLOUD<font color=#FF0000>:</font> <b><font color=#0000FF>case</font></b> FLAME<font color=#FF0000>:</font><a name='line.744'></a>
745:         <b><font color=#0000FF>break</font></b><font color=#FF0000>;</font><a name='line.745'></a>
746:       <a name='line.746'></a>
747:       <b><font color=#0000FF>default</font></b><font color=#FF0000>:</font><a name='line.747'></a>
748:         Game<font color=#FF0000>.</font><b><font color=#000000>message</font></b><font color=#FF0000>(</font><b><font color=#000000>getName</font></b><font color=#FF0000>(</font><font color=#FF0000>)</font><font color=#FF0000>+</font><font color=#808080>" spell seems useless!"</font><font color=#FF0000>)</font><font color=#FF0000>;</font><a name='line.748'></a>
749:     <font color=#000000>}</font><a name='line.749'></a>
750: <a name='line.750'></a>
751:   <font color=#000000>}</font><a name='line.751'></a>
752:   <a name='line.752'></a>
753: <font color=#000000>}</font></tt><a name='line.753'></a>
</pre><a name='line.754'></a>
</body><a name='line.755'></a>
</html><a name='line.756'></a>
